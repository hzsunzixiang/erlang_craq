# gen_server:abcast(NodeList, ?EH_SYSTEM_SERVER, {MsgTag, {self(), Ref, Msg}}),
# handle_cast({?EH_UPDATE, {From, Ref, ObjectList}},

2:11:31.460420 <0.222.0> eh_system_server:handle_cast({eh_update,
    {<18723.452.0>,#Ref<18723.3896970053.3661103105.102881>,
     [{'ec_n1@centos7-dev',
          [{person,10,[{name,1,john_smith},{age,1,40}]},
           {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}]}}, {eh_system_state,eh_ready,2,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})

2:11:31.461173 <0.222.0> eh_system_config:get_node_id({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.461503 <0.222.0> eh_system_config:get_node_id/1 --> 'ec_n1@centos7-dev'
2:11:31.462626 <0.222.0>  '--> eh_system_server:handle_cast/2

%  NewState9 = case eh_node_state:client_state(State) of
2:11:31.462708 <0.222.0> eh_node_state:client_state({eh_system_state,eh_ready,2,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})
2:11:31.463185 <0.222.0> eh_node_state:client_state/1 --> eh_ready
2:11:31.463320 <0.222.0>  '--> eh_system_server:handle_cast/2

%                  UMsgList = eh_update_msg:get_msg(UpdateList, 
%                                                   Timestamp1,
%                                                   From,
%                                                   NodeId,
%                                                   Ref),

2:11:31.463481 <0.222.0> eh_update_msg:get_msg([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], 3, <18723.452.0>, 'ec_n1@centos7-dev', #Ref<18723.3896970053.3661103105.102881>)
2:11:31.464077 <0.222.0> eh_update_msg:get_msg([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], 3, <18723.452.0>, 'ec_n1@centos7-dev', #Ref<18723.3896970053.3661103105.102881>, [])
2:11:31.464997 <0.222.0> eh_update_msg:get_msg([{candidate,10,[{name,1,donald_trump},{party,1,republican}]}], 3, <18723.452.0>, 'ec_n1@centos7-dev', #Ref<18723.3896970053.3661103105.102881>, [{{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.466666 <0.222.0> eh_update_msg:get_msg([], 3, <18723.452.0>, 'ec_n1@centos7-dev', #Ref<18723.3896970053.3661103105.102881>, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.467234 <0.222.0> eh_update_msg:get_msg/6 --> [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}]
2:11:31.468384 <0.222.0> eh_update_msg:get_msg/6 --> [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}]
2:11:31.468740 <0.222.0> eh_update_msg:get_msg/6 --> [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}]

% 返回 把 key 和data分开
%                  UMsgList = eh_update_msg:get_msg(UpdateList, 
%                                                   Timestamp1,
%                                                   From,
                                                   NodeId,
                                                   Ref),
2:11:31.469276 <0.222.0> eh_update_msg:get_msg/5 --> [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}]
2:11:31.469652 <0.222.0>  '--> eh_system_server:handle_cast/2


%                  NewState1 = eh_node_timestamp:update_state_timestamp(Timestamp1, State),

%update_state_timestamp(MsgTimestamp, 
%                       #eh_system_state{timestamp=Timestamp}=State) ->
%  eh_node_state:update_state_msg(State#eh_system_state{timestamp=max(MsgTimestamp, Timestamp)}).

2:11:31.469767 <0.222.0> eh_node_timestamp:update_state_timestamp(3, {eh_system_state,eh_ready,2,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})
2:11:31.470450 <0.222.0> eh_node_state:update_state_msg({eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})
2:11:31.471178 <0.222.0> eh_node_state:update_state_msg/1 --> {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}

2:11:31.471576 <0.222.0> eh_node_timestamp:update_state_timestamp/2 --> {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}
2:11:31.471917 <0.222.0>  '--> eh_system_server:handle_cast/2



%                      send_pre_update_msg(fun eh_persist_data:no_persist_data/2, UMsgList, CompletedSet, NewState1)

2:11:31.472374 <0.222.0> eh_system_server:send_pre_update_msg(fun eh_persist_data:no_persist_data/2, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})

%send_msg(Tag, 
%         PersistFun,
%         UMsgList,
%         CompletedSet,
%         #eh_system_state{predecessor=Pred, successor=Succ}=State) ->
%  State1 = PersistFun(UMsgList, State),
%  State2 = eh_node_timestamp:update_state_new_msg(Tag, UMsgList, State1),
%  Dest = case Tag of
%           ?EH_PRED_PRE_UPDATE ->
%             Succ;
%           ?EH_SUCC_UPDATE     ->
%             Pred
%         end,
%  gen_server:cast({?EH_SYSTEM_SERVER, Dest}, {Tag, {UMsgList, CompletedSet}}),
%  State2.  



2:11:31.473152 <0.222.0> eh_system_server:send_msg(eh_pred_pre_update, fun eh_persist_data:no_persist_data/2, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})

%  State1 = PersistFun(UMsgList, State),

2:11:31.473743 <0.222.0> eh_persist_data:no_persist_data([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})
2:11:31.474219 <0.222.0> eh_persist_data:no_persist_data/2 --> {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}
2:11:31.474638 <0.222.0>  '--> eh_system_server:send_msg/5



%  State2 = eh_node_timestamp:update_state_new_msg(Tag, UMsgList, State1),
%  Dest = case Tag of
%           ?EH_PRED_PRE_UPDATE ->
%             Succ;
%           ?EH_SUCC_UPDATE     ->
%             Pred
%         end,
%  gen_server:cast({?EH_SYSTEM_SERVER, Dest}, {Tag, {UMsgList, CompletedSet}}),




% update_state_new_msg(?EH_PRED_PRE_UPDATE, 
%                      UMsgList, 
%                      #eh_system_state{pre_msg_data=PreMsgData}=State) ->
%   PreMsgData1 = lists:foldl(fun({UMsgKey, UMsgData}, PreMsgDataX) -> eh_system_util:add_map(UMsgKey, UMsgData, PreMsgDataX) end, PreMsgData, UMsgList),
%   State#eh_system_state{pre_msg_data=PreMsgData1};
% update_state_new_msg(?EH_SUCC_UPDATE, 
%                      UMsgList, 
%                      #eh_system_state{pre_msg_data=PreMsgData, msg_data=MsgData}=State) ->
%   {PreMsgData1, MsgData1} = lists:foldl(fun({UMsgKey, UMsgData}, {PreMsgDataX, MsgDataX}) -> 
%                                         {eh_system_util:remove_map(UMsgKey, PreMsgDataX), eh_system_util:add_map(UMsgKey, UMsgData, MsgDataX)} end,
%                                         {PreMsgData, MsgData}, UMsgList),
%   State#eh_system_state{pre_msg_data=PreMsgData1, msg_data=MsgData1}.

2:11:31.474708 <0.222.0> eh_node_timestamp:update_state_new_msg(eh_pred_pre_update, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],
                        [{eh_update_msg_key,2,candidate,10}],
                        [],[],[],[],[],[],[],[],
                        [{eh_update_msg_key,2,person,10}]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})
2:11:31.475325 <0.222.0> eh_node_timestamp:'-update_state_new_msg/3-fun-0-'({{eh_update_msg_key,3,candidate,10},
 {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, #{})
2:11:31.475527 <0.222.0> eh_system_util:add_map({eh_update_msg_key,3,candidate,10}, {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, #{})
2:11:31.475689 <0.222.0> eh_system_util:add_map/3 --> #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}}
2:11:31.475850 <0.222.0> eh_node_timestamp:'-update_state_new_msg/3-fun-0-'/2 --> #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}}
2:11:31.476022 <0.222.0>  '--> lists:foldl/3
2:11:31.476116 <0.222.0> eh_node_timestamp:'-update_state_new_msg/3-fun-0-'({{eh_update_msg_key,3,person,10},
 {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.476333 <0.222.0> eh_system_util:add_map({eh_update_msg_key,3,person,10}, {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.476570 <0.222.0> eh_system_util:add_map/3 --> #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}}
2:11:31.476805 <0.222.0> eh_node_timestamp:'-update_state_new_msg/3-fun-0-'/2 --> #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}}
2:11:31.477063 <0.222.0>  '--> lists:foldl_1/3


% 这里获取一个map 放到 eh_system_state
2:11:31.477147 <0.222.0> eh_node_timestamp:update_state_new_msg/3 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>   %% 从这开始
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.477653 <0.222.0>  '--> eh_system_server:send_msg/5

2:11:31.477743 <0.222.0> eh_system_server:send_msg/5 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}

2:11:31.478266 <0.222.0> eh_system_server:send_pre_update_msg/4 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.478806 <0.222.0>  '--> eh_system_server:handle_cast/2


%send_msg(Tag, 
%         PersistFun,
%         UMsgList,
%         CompletedSet,
%         #eh_system_state{predecessor=Pred, successor=Succ}=State) ->
%  State1 = PersistFun(UMsgList, State),
%  State2 = eh_node_timestamp:update_state_new_msg(Tag, UMsgList, State1),
%  Dest = case Tag of
%           ?EH_PRED_PRE_UPDATE ->
%             Succ;
%           ?EH_SUCC_UPDATE     ->
%             Pred
%         end,
%  gen_server:cast({?EH_SYSTEM_SERVER, Dest}, {Tag, {UMsgList, CompletedSet}}),
%  State2.  

返回之前会调用 gen_server:cast 异步调用, 这个调用是往后继节点发

%  event_state("update.99", NewState9, AppConfig),

2:11:31.478903 <0.222.0> eh_system_server:event_state("update.99", {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})

2:11:31.479480 <0.222.0> eh_event:state(eh_system_server, "update.99", {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.480022 <0.222.0> eh_event:event_notify(state, {eh_system_server,"update.99",
    {eh_system_state,eh_ready,3,
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        'ec_n3@centos7-dev','ec_n2@centos7-dev',
        #{{eh_update_msg_key,3,candidate,10} =>
              {eh_update_msg_data,
                  [{name,1,donald_trump},{party,1,republican}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>},
          {eh_update_msg_key,3,person,10} =>
              {eh_update_msg_data,
                  [{name,1,john_smith},{age,1,40}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>}},
        #{},
        {set,2,16,16,8,80,48,
            {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
            {{[],[],[],[],[],[],
              [{eh_update_msg_key,2,candidate,10}],
              [],[],[],[],[],[],[],[],
              [{eh_update_msg_key,2,person,10}]}}},
        #{},#{},undefined,
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.480579 <0.222.0> eh_event_handler:get_msg_data({state,
    {eh_system_server,"update.99",
        {eh_system_state,eh_ready,3,
            ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
            ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
            'ec_n3@centos7-dev','ec_n2@centos7-dev',
            #{{eh_update_msg_key,3,candidate,10} =>
                  {eh_update_msg_data,
                      [{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>},
              {eh_update_msg_key,3,person,10} =>
                  {eh_update_msg_data,
                      [{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
            #{},
            {set,2,16,16,8,80,48,
                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                {{[],[],[],[],[],[],
                  [{eh_update_msg_key,2,candidate,10}],
                  [],[],[],[],[],[],[],[],
                  [{eh_update_msg_key,2,person,10}]}}},
            #{},#{},undefined,
            {eh_app_config,'ec_n1@centos7-dev',sorted,
                eh_failure_detector_api,eh_repl_data_manager_api,
                eh_storage_data_api,eh_write_conflict_resolver_api,
                eh_unique_id_generator_api,eh_wait_query_handler_api,
                lager_event,10000,"./","0000000000","ec_n1_repl.data",
                standard_io,true,100,1,2000}}}})
2:11:31.481081 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.481181 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.481258 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.481381 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.481504 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.481574 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.481644 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.481710 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.481800 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.481895 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.482097 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.482164 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.482216 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.482259 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.482391 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.482489 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.482580 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.482646 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.482699 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.482742 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.482813 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.482933 <0.222.0> eh_system_util:get_node_name('ec_n3@centos7-dev')
2:11:31.483003 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.483052 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.483103 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.483184 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.483264 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.483396 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.483542 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.483641 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.483695 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.483739 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.483814 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.483899 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.484039 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(51)
2:11:31.484128 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.484235 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.484291 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.484381 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.484460 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.484632 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n3"
2:11:31.484695 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.484741 <0.222.0> eh_system_util:get_node_name('ec_n2@centos7-dev')
2:11:31.484794 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.484863 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.484974 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.485056 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.485178 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.485239 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.485304 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.485379 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.485486 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.485545 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.485644 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.485710 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.485776 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(50)
2:11:31.485874 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.485938 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.485985 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.486034 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.486173 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.486245 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n2"
2:11:31.486323 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.486380 <0.222.0> eh_node_state:display_state({eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.486914 <0.222.0> eh_system_util:display_atom_to_list(eh_ready)
2:11:31.487009 <0.222.0> eh_system_util:display_atom_to_list/1 --> "ready"
2:11:31.487092 <0.222.0> eh_node_state:display_state/1 --> "ready"
2:11:31.487238 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.487293 <0.222.0> eh_system_util:make_list_to_string(fun eh_system_util:get_node_name/1, ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'])
2:11:31.487426 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'('ec_n1@centos7-dev', [], fun eh_system_util:get_node_name/1)
2:11:31.487569 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.487650 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.487742 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.487873 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.487972 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.488074 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.488171 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.488264 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.488343 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.488498 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.488562 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.488639 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.488738 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.488796 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.488870 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.488987 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.489127 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.489213 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.489321 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.489382 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.489441 <0.222.0>  '--> eh_system_util:'-make_list_to_string/2-fun-0-'/3
2:11:31.489557 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'/3 --> "ec_n1"
2:11:31.489712 <0.222.0>  '--> lists:foldl/3
2:11:31.489773 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'('ec_n2@centos7-dev', "ec_n1", fun eh_system_util:get_node_name/1)
2:11:31.489848 <0.222.0> eh_system_util:get_node_name('ec_n2@centos7-dev')
2:11:31.489941 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.490054 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.490142 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.490234 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.490310 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.490405 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.490530 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.490597 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.490650 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.490735 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.490871 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.490989 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.491037 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(50)
2:11:31.491088 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.491140 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.491237 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.491400 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.491495 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.491552 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n2"
2:11:31.491609 <0.222.0>  '--> eh_system_util:'-make_list_to_string/2-fun-0-'/3
2:11:31.491684 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'/3 --> "ec_n1,ec_n2"
2:11:31.491789 <0.222.0>  '--> lists:foldl_1/3
2:11:31.491938 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'('ec_n3@centos7-dev', "ec_n1,ec_n2", fun eh_system_util:get_node_name/1)
2:11:31.492066 <0.222.0> eh_system_util:get_node_name('ec_n3@centos7-dev')
2:11:31.492140 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.492217 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.492299 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.492387 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.492474 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.492618 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.492694 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.492791 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.492888 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.492981 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.493034 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.493161 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.493237 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(51)
2:11:31.493335 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.493422 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.493525 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.493592 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.493738 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.493803 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n3"
2:11:31.493920 <0.222.0>  '--> eh_system_util:'-make_list_to_string/2-fun-0-'/3
2:11:31.493989 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'/3 --> "ec_n1,ec_n2,ec_n3"
2:11:31.494046 <0.222.0>  '--> lists:foldl_1/3
2:11:31.494140 <0.222.0> eh_system_util:make_list_to_string/2 --> "ec_n1,ec_n2,ec_n3"
2:11:31.494259 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.494391 <0.222.0> eh_event_handler:list_msg_map(#{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.494755 <0.222.0> eh_system_util:fold_map(#Fun<eh_event_handler.1.20189961>, [], #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.495095 <0.222.0> eh_event_handler:'-list_msg_map/1-fun-0-'({eh_update_msg_key,3,candidate,10}, {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, [])
2:11:31.495402 <0.222.0> eh_event_handler:list_msg({eh_update_msg_key,3,candidate,10}, 'ec_n1@centos7-dev')
2:11:31.495571 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,3,candidate,10})
2:11:31.495693 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,3,candidate,10})
2:11:31.495824 <0.222.0> eh_event_handler:is_listable_value(3)
2:11:31.495888 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.496100 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.496164 <0.222.0> eh_event_handler:is_listable_value(candidate)
2:11:31.496216 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.496300 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.496408 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.496530 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.496601 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.497680 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.498297 <0.222.0> eh_event_handler:list_value(3)
2:11:31.498530 <0.222.0> eh_event_handler:list_value/1 --> "3"
2:11:31.498935 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.499065 <0.222.0> eh_event_handler:list_value(candidate)
2:11:31.499340 <0.222.0> eh_event_handler:list_value/1 --> "candidate"
2:11:31.499576 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.499670 <0.222.0> eh_event_handler:list_value(10)
2:11:31.499770 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.499839 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.499891 <0.222.0> eh_event_handler:list_msg_key/1 --> "{3,candidate,10}"
2:11:31.499950 <0.222.0>  '--> eh_event_handler:list_msg/2
2:11:31.500041 <0.222.0> eh_event_handler:list_node_msg('ec_n1@centos7-dev', "{3,candidate,10}")
2:11:31.500233 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.500312 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.500386 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.500516 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.500580 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.500637 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.500784 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.500839 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.500891 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.500993 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.501088 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.501166 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.501311 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.501368 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.501465 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.501559 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.501657 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.501723 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.501783 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.501855 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.501910 <0.222.0>  '--> eh_event_handler:list_node_msg/2
2:11:31.502011 <0.222.0> eh_event_handler:list_node_msg/2 --> "ec_n1=>{3,candidate,10}"
2:11:31.502110 <0.222.0> eh_event_handler:list_msg/2 --> "ec_n1=>{3,candidate,10}"
2:11:31.502190 <0.222.0>  '--> eh_event_handler:'-list_msg_map/1-fun-0-'/3
2:11:31.502268 <0.222.0> eh_event_handler:add_list("ec_n1=>{3,candidate,10}", [])
2:11:31.502411 <0.222.0> eh_event_handler:add_list/2 --> "ec_n1=>{3,candidate,10}"
2:11:31.502526 <0.222.0> eh_event_handler:'-list_msg_map/1-fun-0-'/3 --> "ec_n1=>{3,candidate,10}"
2:11:31.502611 <0.222.0>  '--> maps:fold_1/3
2:11:31.502708 <0.222.0> eh_event_handler:'-list_msg_map/1-fun-0-'({eh_update_msg_key,3,person,10}, {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, "ec_n1=>{3,candidate,10}")
2:11:31.502906 <0.222.0> eh_event_handler:list_msg({eh_update_msg_key,3,person,10}, 'ec_n1@centos7-dev')
2:11:31.503047 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,3,person,10})
2:11:31.503117 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,3,person,10})
2:11:31.503198 <0.222.0> eh_event_handler:is_listable_value(3)
2:11:31.503290 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.503355 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.503407 <0.222.0> eh_event_handler:is_listable_value(person)
2:11:31.503497 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.503620 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.503681 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.503747 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.503811 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.503863 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.503937 <0.222.0> eh_event_handler:list_value(3)
2:11:31.504071 <0.222.0> eh_event_handler:list_value/1 --> "3"
2:11:31.504155 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.504210 <0.222.0> eh_event_handler:list_value(person)
2:11:31.504260 <0.222.0> eh_event_handler:list_value/1 --> "person"
2:11:31.504313 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.504385 <0.222.0> eh_event_handler:list_value(10)
2:11:31.504494 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.504632 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.504696 <0.222.0> eh_event_handler:list_msg_key/1 --> "{3,person,10}"
2:11:31.504754 <0.222.0>  '--> eh_event_handler:list_msg/2
2:11:31.504801 <0.222.0> eh_event_handler:list_node_msg('ec_n1@centos7-dev', "{3,person,10}")
2:11:31.504880 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.504987 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.505129 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.505211 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.505266 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.505343 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.505458 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.505537 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.505700 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.505785 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.505841 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.505943 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.506042 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.506129 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.506207 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.506332 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.506421 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.506489 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.506565 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.506634 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.506699 <0.222.0>  '--> eh_event_handler:list_node_msg/2
2:11:31.506790 <0.222.0> eh_event_handler:list_node_msg/2 --> "ec_n1=>{3,person,10}"
2:11:31.506876 <0.222.0> eh_event_handler:list_msg/2 --> "ec_n1=>{3,person,10}"
2:11:31.506986 <0.222.0>  '--> eh_event_handler:'-list_msg_map/1-fun-0-'/3
2:11:31.507056 <0.222.0> eh_event_handler:add_list("ec_n1=>{3,person,10}", "ec_n1=>{3,candidate,10}")
2:11:31.507119 <0.222.0> eh_event_handler:add_list/2 --> "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}"
2:11:31.507201 <0.222.0> eh_event_handler:'-list_msg_map/1-fun-0-'/3 --> "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}"
2:11:31.507369 <0.222.0>  '--> maps:fold_1/3
2:11:31.507463 <0.222.0> eh_system_util:fold_map/3 --> "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}"
2:11:31.507555 <0.222.0> eh_event_handler:list_msg_map/1 --> "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}"
2:11:31.507653 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.507704 <0.222.0> eh_event_handler:list_msg_map(#{})
2:11:31.507773 <0.222.0> eh_system_util:fold_map(#Fun<eh_event_handler.1.20189961>, [], #{})
2:11:31.507917 <0.222.0> eh_system_util:fold_map/3 --> []
2:11:31.507986 <0.222.0> eh_event_handler:list_msg_map/1 --> []
2:11:31.508075 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.508137 <0.222.0> eh_event_handler:list_msg_set_value({set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.508331 <0.222.0> eh_system_util:fold_set(#Fun<eh_event_handler.0.20189961>, [], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.508614 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'({eh_update_msg_key,2,person,10}, [])
2:11:31.508760 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,2,person,10})
2:11:31.508863 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,2,person,10})
2:11:31.508990 <0.222.0> eh_event_handler:is_listable_value(2)
2:11:31.509086 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.509171 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.509284 <0.222.0> eh_event_handler:is_listable_value(person)
2:11:31.509396 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.509507 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.509606 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.509666 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.509718 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.509863 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.509926 <0.222.0> eh_event_handler:list_value(2)
2:11:31.509980 <0.222.0> eh_event_handler:list_value/1 --> "2"
2:11:31.510033 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.510080 <0.222.0> eh_event_handler:list_value(person)
2:11:31.510130 <0.222.0> eh_event_handler:list_value/1 --> "person"
2:11:31.510240 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.510378 <0.222.0> eh_event_handler:list_value(10)
2:11:31.510478 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.510538 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.510596 <0.222.0> eh_event_handler:list_msg_key/1 --> "{2,person,10}"
2:11:31.510674 <0.222.0>  '--> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2
2:11:31.510752 <0.222.0> eh_event_handler:add_list("{2,person,10}", [])
2:11:31.510920 <0.222.0> eh_event_handler:add_list/2 --> "{2,person,10}"
2:11:31.511038 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2 --> "{2,person,10}"
2:11:31.511102 <0.222.0>  '--> sets:fold_bucket/3
2:11:31.511173 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'({eh_update_msg_key,2,candidate,10}, "{2,person,10}")
2:11:31.511295 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,2,candidate,10})
2:11:31.511370 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,2,candidate,10})
2:11:31.511564 <0.222.0> eh_event_handler:is_listable_value(2)
2:11:31.511675 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.511763 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.511826 <0.222.0> eh_event_handler:is_listable_value(candidate)
2:11:31.511920 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.512016 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.512077 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.512262 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.512377 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.513446 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.514324 <0.222.0> eh_event_handler:list_value(2)
2:11:31.514788 <0.222.0> eh_event_handler:list_value/1 --> "2"
2:11:31.515101 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.515310 <0.222.0> eh_event_handler:list_value(candidate)
2:11:31.515427 <0.222.0> eh_event_handler:list_value/1 --> "candidate"
2:11:31.515523 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.515638 <0.222.0> eh_event_handler:list_value(10)
2:11:31.515709 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.515805 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.515888 <0.222.0> eh_event_handler:list_msg_key/1 --> "{2,candidate,10}"
2:11:31.516049 <0.222.0>  '--> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2
2:11:31.516116 <0.222.0> eh_event_handler:add_list("{2,candidate,10}", "{2,person,10}")
2:11:31.516198 <0.222.0> eh_event_handler:add_list/2 --> "{2,person,10},{2,candidate,10}"
2:11:31.516296 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2 --> "{2,person,10},{2,candidate,10}"
2:11:31.516422 <0.222.0>  '--> sets:fold_bucket/3
2:11:31.516540 <0.222.0> eh_system_util:fold_set/3 --> "{2,person,10},{2,candidate,10}"
2:11:31.516698 <0.222.0> eh_event_handler:list_msg_set_value/1 --> "{2,person,10},{2,candidate,10}"
2:11:31.516784 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.516857 <0.222.0> eh_event_handler:get_msg_data/1 --> {"[~p] ~p node_status=~p, node_id=~p, repl_ring=~p, pred=~p, succ=~p, timestamp=~p, pre_msg_data=~p, msg_data=~p, completed_set=~p~n",
 [eh_system_server,"update.99","ready","ec_n1","ec_n1,ec_n2,ec_n3","ec_n3",
  "ec_n2",3,"ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}",[],
  "{2,person,10},{2,candidate,10}"]}
2:11:31.517151 <0.222.0>  '--> eh_event:event_notify/3
2:11:31.517252 <0.222.0> eh_system_config:get_event_logger({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.517508 <0.222.0> eh_system_config:get_event_logger/1 --> lager_event
2:11:31.517575 <0.222.0>  '--> eh_event:event_notify/3
2:11:31.517649 <0.222.0> eh_event:event_notify/3 --> ok
2:11:31.517747 <0.222.0> eh_event:state/4 --> ok
2:11:31.517838 <0.222.0> eh_system_server:event_state/3 --> ok
2:11:31.517991 <0.222.0>  '--> eh_system_server:handle_cast/2


2:11:31.518056 <0.222.0> eh_system_server:handle_cast/2 --> {noreply,
    {eh_system_state,eh_ready,3,
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        'ec_n3@centos7-dev','ec_n2@centos7-dev',
        #{{eh_update_msg_key,3,candidate,10} =>
              {eh_update_msg_data,
                  [{name,1,donald_trump},{party,1,republican}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>},
          {eh_update_msg_key,3,person,10} =>
              {eh_update_msg_data,
                  [{name,1,john_smith},{age,1,40}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>}},
        #{},
        {set,2,16,16,8,80,48,
            {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
            {{[],[],[],[],[],[],
              [{eh_update_msg_key,2,candidate,10}],
              [],[],[],[],[],[],[],[],
              [{eh_update_msg_key,2,person,10}]}}},
        #{},#{},undefined,
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.518667 <0.222.0>  '--> gen_server:try_dispatch/4


%% 这里开始处理 来自上一个节点的 完成更新
%  gen_server:cast({?EH_SYSTEM_SERVER, Dest}, {Tag, {UMsgList, CompletedSet}}),
%  State2.  


2:11:31.518747 <0.222.0> eh_system_server:handle_cast({eh_succ_update,
    {[{{eh_update_msg_key,3,candidate,10},
       {eh_update_msg_data,
           [{name,1,donald_trump},{party,1,republican}],
           <18723.452.0>,'ec_n1@centos7-dev',
           #Ref<18723.3896970053.3661103105.102881>}},
      {{eh_update_msg_key,3,person,10},
       {eh_update_msg_data,
           [{name,1,john_smith},{age,1,40}],
           <18723.452.0>,'ec_n1@centos7-dev',
           #Ref<18723.3896970053.3661103105.102881>}}],
     {set,2,16,16,8,80,48,
         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
         {{[],[],[],[],[],[],
           [{eh_update_msg_key,2,candidate,10}],
           [],[],[],[],[],[],[],[],
           [{eh_update_msg_key,2,person,10}]}}}}}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})

2:11:31.519651 <0.222.0> eh_system_server:process_msg(eh_succ_update, fun eh_node_timestamp:valid_update_msg/2, #Fun<eh_system_server.0.81093313>, fun eh_persist_data:persist_data/2, #Fun<eh_system_server.1.81093313>, fun eh_persist_data:persist_data/2, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})


%  DisplayTag = eh_system_util:display_atom_to_list(Tag),

2:11:31.520378 <0.222.0> eh_system_util:display_atom_to_list(eh_succ_update)
2:11:31.520449 <0.222.0> eh_system_util:display_atom_to_list/1 --> "succ_update"
2:11:31.520551 <0.222.0>  '--> eh_system_server:process_msg/9

% {MsgTimestamp, _, _, _} = eh_update_msg:get_msg_param(UMsgList),

2:11:31.520610 <0.222.0> eh_update_msg:get_msg_param([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.520833 <0.222.0> eh_update_msg:get_msg_param/1 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>}
2:11:31.521048 <0.222.0>  '--> eh_system_server:process_msg/9


%  NewState8 = case eh_node_state:msg_state(State) of

2:11:31.521147 <0.222.0> eh_node_state:msg_state({eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.521643 <0.222.0> eh_node_state:msg_state/1 --> eh_ready
2:11:31.521733 <0.222.0>  '--> eh_system_server:process_msg/9



2:11:31.521799 <0.222.0> eh_node_timestamp:valid_update_msg([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.522497 <0.222.0> eh_node_timestamp:valid_msg(#Fun<eh_node_timestamp.7.101472057>, #Fun<eh_node_timestamp.8.101472057>, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], #{}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})


% process_pending_pre_msg_data(UMsgList, #eh_system_state{pending_pre_msg_data=PendingPreMsgData}=State) ->

2:11:31.523197 <0.222.0> eh_node_timestamp:process_pending_pre_msg_data([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.523802 <0.222.0> eh_system_util:size_map(#{})
2:11:31.523925 <0.222.0> eh_system_util:size_map/1 --> 0
2:11:31.524022 <0.222.0>  '--> eh_node_timestamp:process_pending_pre_msg_data/2
2:11:31.524089 <0.222.0> eh_node_timestamp:process_pending_pre_msg_data/2 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.524535 <0.222.0>  '--> eh_node_timestamp:valid_msg/6
2:11:31.524590 <0.222.0> eh_node_timestamp:check_map([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], #{})
2:11:31.524818 <0.222.0> eh_update_msg:get_msg_param([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.525071 <0.222.0> eh_update_msg:get_msg_param/1 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>}
2:11:31.525190 <0.222.0>  '--> eh_node_timestamp:check_map/2
2:11:31.525242 <0.222.0> eh_update_msg:partition_on_timestamp_node_id(3, 'ec_n1@centos7-dev', #{})
2:11:31.525351 <0.222.0> eh_system_util:partition_map(#Fun<eh_update_msg.6.130090961>, #{})
2:11:31.525463 <0.222.0> eh_system_util:new_map()
2:11:31.525525 <0.222.0> eh_system_util:new_map/0 --> #{}
2:11:31.525597 <0.222.0>  '--> eh_system_util:partition_map/2
2:11:31.525665 <0.222.0> eh_system_util:new_map()
2:11:31.525744 <0.222.0> eh_system_util:new_map/0 --> #{}
2:11:31.525817 <0.222.0>  '--> eh_system_util:partition_map/2
2:11:31.525941 <0.222.0> eh_system_util:partition_map/2 --> {#{},#{}}
2:11:31.526045 <0.222.0> eh_update_msg:partition_on_timestamp_node_id/3 --> {#{},#{}}
2:11:31.526100 <0.222.0>  '--> eh_node_timestamp:check_map/2
2:11:31.526143 <0.222.0> eh_system_util:size_map(#{})
2:11:31.526215 <0.222.0> eh_system_util:size_map/1 --> 0
2:11:31.526304 <0.222.0>  '--> eh_node_timestamp:check_map/2
2:11:31.527388 <0.222.0> eh_node_timestamp:check_map/2 --> false
2:11:31.529083 <0.222.0>  '--> eh_node_timestamp:valid_msg/6
2:11:31.529924 <0.222.0> eh_node_timestamp:check_set([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.530763 <0.222.0> eh_node_timestamp:'-check_set/2-fun-0-'({{eh_update_msg_key,3,candidate,10},
 {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.531071 <0.222.0> eh_system_util:is_key_set({eh_update_msg_key,3,candidate,10}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.531300 <0.222.0> eh_system_util:is_key_set/2 --> false
2:11:31.531411 <0.222.0> eh_node_timestamp:'-check_set/2-fun-0-'/2 --> false
2:11:31.531477 <0.222.0>  '--> lists:any/2
2:11:31.531575 <0.222.0> eh_node_timestamp:'-check_set/2-fun-0-'({{eh_update_msg_key,3,person,10},
 {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.531820 <0.222.0> eh_system_util:is_key_set({eh_update_msg_key,3,person,10}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.531990 <0.222.0> eh_system_util:is_key_set/2 --> false
2:11:31.532063 <0.222.0> eh_node_timestamp:'-check_set/2-fun-0-'/2 --> false
2:11:31.532186 <0.222.0>  '--> lists:any_1/2
2:11:31.532232 <0.222.0> eh_node_timestamp:check_set/2 --> false
2:11:31.532292 <0.222.0>  '--> eh_node_timestamp:valid_msg/6
2:11:31.532372 <0.222.0> eh_node_timestamp:check_data([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.532950 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.533177 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {undefined,undefined,undefined,undefined,[]})
2:11:31.533404 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{candidate,10,[{name,1,donald_trump},{party,1,republican}]}]})
2:11:31.533599 <0.222.0> eh_update_msg:get_data_list([], {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]})
2:11:31.533726 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.533850 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.533998 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.534146 <0.222.0> eh_update_msg:get_data_list/1 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.534278 <0.222.0>  '--> eh_node_timestamp:check_data/2
2:11:31.534347 <0.222.0> eh_system_config:get_repl_data_manager({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.534541 <0.222.0> eh_system_config:get_repl_data_manager/1 --> eh_repl_data_manager_api
2:11:31.534652 <0.222.0>  '--> eh_node_timestamp:check_data/2
2:11:31.534701 <0.222.0> eh_repl_data_manager_api:check_data({3,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]})



% 往 eh_data_server 发送了同步请求
2:11:31.534826 <0.221.0> eh_data_server:handle_call({eh_check_data,{3,
                [{person,10,[{name,1,john_smith},{age,1,40}]},
                 {candidate,10,
                            [{name,1,donald_trump},{party,1,republican}]}]}}, {<0.222.0>,[alias|#Ref<0.2863178779.3660644354.205698>]}, {eh_data_state,2,0,
               [{{candidate,10},2},{{person,10},2}],
               #{{eh_storage_key,candidate,10} =>
                     {[{eh_storage_value,2,2,1,party,republican},
                       {eh_storage_value,2,1,1,name,donald_trump},
                       {eh_storage_value,1,2,1,party,republican}],
                      [{eh_storage_value,1,1,1,name,donald_trump}]},
                 {eh_storage_key,person,10} =>
                     {[{eh_storage_value,2,2,1,age,40},
                       {eh_storage_value,2,1,1,name,john_smith},
                       {eh_storage_value,1,2,1,age,40}],
                      [{eh_storage_value,1,1,1,name,john_smith}]}},
               {[],[]},
               2,22,
               {file_descriptor,prim_file,
                                #{handle =>
                                      #Ref<0.2863178779.3660709906.203405>,
                                  owner => <0.221.0>,r_ahead_size => 0,
                                  r_buffer =>
                                      #Ref<0.2863178779.3660709889.203449>}},
               {eh_app_config,'ec_n1@centos7-dev',sorted,
                              eh_failure_detector_api,
                              eh_repl_data_manager_api,eh_storage_data_api,
                              eh_write_conflict_resolver_api,
                              eh_unique_id_generator_api,
                              eh_wait_query_handler_api,lager_event,10000,
                              "./","0000000000","ec_n1_repl.data",standard_io,
                              true,100,1,2000}})
2:11:31.535418 <0.221.0> eh_data_util:check_data(3, [{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.535676 <0.221.0> eh_data_util:'-check_data/3-fun-0-'({person,10,[{name,1,john_smith},{age,1,40}]}, false, 3, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.535895 <0.221.0> eh_data_util:check_data(person, 10, 3, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.536141 <0.221.0> eh_data_util:make_key(person, 10)
2:11:31.536196 <0.221.0> eh_data_util:make_key/2 --> {eh_storage_key,person,10}
2:11:31.536264 <0.221.0>  '--> eh_data_util:check_data/4
2:11:31.536352 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}, false)
2:11:31.536524 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}, false)
2:11:31.536661 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,2,2,1,age,40}},
 {[{eh_storage_value,2,1,1,name,john_smith},{eh_storage_value,1,2,1,age,40}],
  [{eh_storage_value,1,1,1,name,john_smith}]}}
2:11:31.536800 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.536852 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,2,2,1,age,40}, false)
2:11:31.536975 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.537030 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.537069 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,2,1,1,name,john_smith},{eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}, false)
2:11:31.537215 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,2,1,1,name,john_smith},{eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}, false)
2:11:31.537357 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,2,1,1,name,john_smith}},
 {[{eh_storage_value,1,2,1,age,40}],
  [{eh_storage_value,1,1,1,name,john_smith}]}}
2:11:31.537558 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.537609 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,2,1,1,name,john_smith}, false)
2:11:31.537690 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.537783 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.537833 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,1,2,1,age,40}],[{eh_storage_value,1,1,1,name,john_smith}]}, false)
2:11:31.537984 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,1,2,1,age,40}],[{eh_storage_value,1,1,1,name,john_smith}]}, false)
2:11:31.538107 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,1,2,1,age,40}},
 {[{eh_storage_value,1,1,1,name,john_smith}],[]}}
2:11:31.538216 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.538282 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,1,2,1,age,40}, false)
2:11:31.538399 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.538504 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.538553 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,1,1,1,name,john_smith}],[]}, false)
2:11:31.538650 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,1,1,1,name,john_smith}],[]}, false)
2:11:31.538767 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,1,1,1,name,john_smith}},{[],[]}}
2:11:31.538871 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.538977 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,1,1,1,name,john_smith}, false)
2:11:31.539075 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.539120 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.539176 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[],[]}, false)
2:11:31.539269 <0.221.0> eh_data_util:check_data_queue_fun({[],[]}, false)
2:11:31.539335 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {empty,{[],[]}}
2:11:31.539458 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.539506 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.539549 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.539609 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.539677 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.539749 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.539850 <0.221.0> eh_data_util:check_data/4 --> false
2:11:31.539894 <0.221.0> eh_data_util:'-check_data/3-fun-0-'/4 --> false
2:11:31.539938 <0.221.0>  '--> lists:foldl/3
2:11:31.539976 <0.221.0> eh_data_util:'-check_data/3-fun-0-'({candidate,10,[{name,1,donald_trump},{party,1,republican}]}, false, 3, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.540234 <0.221.0> eh_data_util:check_data(candidate, 10, 3, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.540464 <0.221.0> eh_data_util:make_key(candidate, 10)
2:11:31.540522 <0.221.0> eh_data_util:make_key/2 --> {eh_storage_key,candidate,10}
2:11:31.540618 <0.221.0>  '--> eh_data_util:check_data/4
2:11:31.540665 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, false)
2:11:31.540815 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, false)
2:11:31.541005 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,2,2,1,party,republican}},
 {[{eh_storage_value,2,1,1,name,donald_trump},
   {eh_storage_value,1,2,1,party,republican}],
  [{eh_storage_value,1,1,1,name,donald_trump}]}}
2:11:31.541177 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.541244 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,2,2,1,party,republican}, false)
2:11:31.541352 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.541428 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.541498 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, false)
2:11:31.541671 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, false)
2:11:31.541790 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,2,1,1,name,donald_trump}},
 {[{eh_storage_value,1,2,1,party,republican}],
  [{eh_storage_value,1,1,1,name,donald_trump}]}}
2:11:31.541936 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.541986 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,2,1,1,name,donald_trump}, false)
2:11:31.542044 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.542156 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.542218 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, false)
2:11:31.542812 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, false)
2:11:31.543279 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,1,2,1,party,republican}},
 {[{eh_storage_value,1,1,1,name,donald_trump}],[]}}
2:11:31.543658 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.543990 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,1,2,1,party,republican}, false)
2:11:31.544135 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.544187 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.544225 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[{eh_storage_value,1,1,1,name,donald_trump}],[]}, false)
2:11:31.544544 <0.221.0> eh_data_util:check_data_queue_fun({[{eh_storage_value,1,1,1,name,donald_trump}],[]}, false)
2:11:31.544661 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {{value,{eh_storage_value,1,1,1,name,donald_trump}},{[],[]}}
2:11:31.544783 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.544828 <0.221.0> eh_data_util:check_data_fun(3, {eh_storage_value,1,1,1,name,donald_trump}, false)
2:11:31.544882 <0.221.0> eh_data_util:check_data_fun/3 --> false
2:11:31.544923 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.544984 <0.221.0> eh_data_util:process_data(#Fun<eh_data_util.6.9495140>, #Fun<eh_data_util.7.9495140>, 3, {[],[]}, false)
2:11:31.545108 <0.221.0> eh_data_util:check_data_queue_fun({[],[]}, false)
2:11:31.545161 <0.221.0> eh_data_util:check_data_queue_fun/2 --> {empty,{[],[]}}
2:11:31.545209 <0.221.0>  '--> eh_data_util:process_data/5
2:11:31.545245 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.545312 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.545394 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.545475 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.545543 <0.221.0> eh_data_util:process_data/5 --> false
2:11:31.545585 <0.221.0> eh_data_util:check_data/4 --> false
2:11:31.545625 <0.221.0> eh_data_util:'-check_data/3-fun-0-'/4 --> false
2:11:31.545689 <0.221.0>  '--> lists:foldl_1/3
2:11:31.545760 <0.221.0> eh_data_util:check_data/3 --> false
2:11:31.545844 <0.221.0>  '--> eh_data_server:handle_call/3
2:11:31.545908 <0.221.0> eh_data_server:handle_call/3 --> {reply,false,
    {eh_data_state,2,0,
        [{{candidate,10},2},{{person,10},2}],
        #{{eh_storage_key,candidate,10} =>
              {[{eh_storage_value,2,2,1,party,republican},
                {eh_storage_value,2,1,1,name,donald_trump},
                {eh_storage_value,1,2,1,party,republican}],
               [{eh_storage_value,1,1,1,name,donald_trump}]},
          {eh_storage_key,person,10} =>
              {[{eh_storage_value,2,2,1,age,40},
                {eh_storage_value,2,1,1,name,john_smith},
                {eh_storage_value,1,2,1,age,40}],
               [{eh_storage_value,1,1,1,name,john_smith}]}},
        {[],[]},
        2,22,
        {file_descriptor,prim_file,
            #{handle => #Ref<0.2863178779.3660709906.203405>,
              owner => <0.221.0>,r_ahead_size => 0,
              r_buffer => #Ref<0.2863178779.3660709889.203449>}},
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.546398 <0.221.0>  '--> gen_server:try_handle_call/4


2:11:31.546454 <0.222.0> eh_repl_data_manager_api:check_data/1 --> false
2:11:31.546499 <0.222.0> eh_node_timestamp:check_data/2 --> false
2:11:31.546540 <0.222.0>  '--> eh_node_timestamp:valid_msg/6
2:11:31.546609 <0.222.0> eh_node_timestamp:update_conflict_resolver([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})



2:11:31.547206 <0.222.0> eh_node_timestamp:resolve_conflict(eh_succ_update, eh_pred_pre_update, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.547958 <0.222.0> eh_update_msg:get_msg_param([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.548176 <0.222.0> eh_update_msg:get_msg_param/1 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>}
2:11:31.548271 <0.222.0>  '--> eh_node_timestamp:resolve_conflict/5
2:11:31.548352 <0.222.0> eh_update_msg:exist_msg_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.548690 <0.222.0> eh_update_msg:'-exist_msg_list/2-fun-0-'({{eh_update_msg_key,3,candidate,10},
 {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {eh_update_msg_data,undefined,undefined,undefined,undefined}, #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.548928 <0.222.0> eh_update_msg:exist_msg_key({eh_update_msg_key,3,candidate,10}, #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.549180 <0.222.0> eh_system_util:find_map({eh_update_msg_key,3,candidate,10}, #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.549396 <0.222.0> eh_system_util:find_map/2 --> {ok,{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                        <18723.452.0>,'ec_n1@centos7-dev',
                        #Ref<18723.3896970053.3661103105.102881>}}
2:11:31.549534 <0.222.0>  '--> eh_update_msg:exist_msg_key/2
2:11:31.549582 <0.222.0> eh_update_msg:exist_msg_key/2 --> {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}
2:11:31.549717 <0.222.0> eh_update_msg:'-exist_msg_list/2-fun-0-'/3 --> {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}
2:11:31.549847 <0.222.0>  '--> lists:foldl/3
2:11:31.549895 <0.222.0> eh_update_msg:'-exist_msg_list/2-fun-0-'({{eh_update_msg_key,3,person,10},
 {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.550231 <0.222.0> eh_update_msg:'-exist_msg_list/2-fun-0-'/3 --> {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}
2:11:31.550372 <0.222.0>  '--> lists:foldl_1/3
2:11:31.550421 <0.222.0> eh_update_msg:exist_msg_list/2 --> {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}
2:11:31.550571 <0.222.0>  '--> eh_node_timestamp:resolve_conflict/5
2:11:31.550639 <0.222.0> eh_node_timestamp:resolve_conflict/5 --> {true,#{{eh_update_msg_key,3,candidate,10} =>
            {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                                <18723.452.0>,'ec_n1@centos7-dev',
                                #Ref<18723.3896970053.3661103105.102881>},
        {eh_update_msg_key,3,person,10} =>
            {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                                <18723.452.0>,'ec_n1@centos7-dev',
                                #Ref<18723.3896970053.3661103105.102881>}}}
2:11:31.550887 <0.222.0>  '--> eh_node_timestamp:update_conflict_resolver/2
2:11:31.550938 <0.222.0> eh_node_timestamp:update_conflict_resolver/2 --> {true,
    {eh_system_state,eh_ready,3,
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        'ec_n3@centos7-dev','ec_n2@centos7-dev',
        #{{eh_update_msg_key,3,candidate,10} =>
              {eh_update_msg_data,
                  [{name,1,donald_trump},{party,1,republican}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>},
          {eh_update_msg_key,3,person,10} =>
              {eh_update_msg_data,
                  [{name,1,john_smith},{age,1,40}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>}},
        #{},
        {set,2,16,16,8,80,48,
            {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
            {{[],[],[],[],[],[],
              [{eh_update_msg_key,2,candidate,10}],
              [],[],[],[],[],[],[],[],
              [{eh_update_msg_key,2,person,10}]}}},
        #{},#{},undefined,
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.551382 <0.222.0>  '--> eh_node_timestamp:valid_msg/6
2:11:31.551436 <0.222.0> eh_node_timestamp:msg_status([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.551976 <0.222.0> eh_system_config:get_node_id({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.552147 <0.222.0> eh_system_config:get_node_id/1 --> 'ec_n1@centos7-dev'
2:11:31.552204 <0.222.0>  '--> eh_node_timestamp:msg_status/2
2:11:31.552259 <0.222.0> eh_system_config:get_node_order({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.552495 <0.222.0> eh_system_config:get_node_order/1 --> sorted
2:11:31.552611 <0.222.0>  '--> eh_node_timestamp:msg_status/2
2:11:31.552714 <0.222.0> eh_update_msg:get_msg_param([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.553016 <0.222.0> eh_update_msg:get_msg_param/1 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>}
2:11:31.553164 <0.222.0>  '--> eh_node_timestamp:msg_status/2
2:11:31.553215 <0.222.0> eh_repl_ring:effective_tail_node_id('ec_n1@centos7-dev', ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], sorted)
2:11:31.553356 <0.222.0> eh_repl_ring:predecessor('ec_n1@centos7-dev', ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], sorted)
2:11:31.553490 <0.222.0> eh_repl_ring:add('ec_n1@centos7-dev', ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], sorted)
2:11:31.553644 <0.222.0> eh_repl_ring:get_ordered_list(['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], sorted)
2:11:31.553754 <0.222.0> eh_repl_ring:get_ordered_list(['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], user_defined)
2:11:31.553876 <0.222.0> eh_repl_ring:make_ordered_list(['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'])
2:11:31.554002 <0.222.0> eh_repl_ring:'-make_ordered_list/2-fun-0-'('ec_n1@centos7-dev', ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'])
2:11:31.554137 <0.222.0> eh_repl_ring:'-make_ordered_list/2-fun-0-'/2 --> true
2:11:31.554234 <0.222.0>  '--> lists:'-filter/2-lc$^0/1-0-'/2
2:11:31.554294 <0.222.0> eh_repl_ring:'-make_ordered_list/2-fun-0-'('ec_n2@centos7-dev', ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'])
2:11:31.554411 <0.222.0> eh_repl_ring:'-make_ordered_list/2-fun-0-'/2 --> true
2:11:31.554466 <0.222.0>  '--> lists:'-filter/2-lc$^0/1-0-'/2
2:11:31.554507 <0.222.0> eh_repl_ring:'-make_ordered_list/2-fun-0-'('ec_n3@centos7-dev', ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'])
2:11:31.554627 <0.222.0> eh_repl_ring:'-make_ordered_list/2-fun-0-'/2 --> true
2:11:31.554682 <0.222.0>  '--> lists:'-filter/2-lc$^0/1-0-'/2
2:11:31.554743 <0.222.0> eh_repl_ring:make_ordered_list/2 --> ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev']
2:11:31.554842 <0.222.0>  '--> eh_repl_ring:get_ordered_list/3
2:11:31.554884 <0.222.0> eh_repl_ring:get_ordered_list/3 --> {['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev']}
2:11:31.555035 <0.222.0> eh_repl_ring:get_ordered_list/3 --> {['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev']}
2:11:31.555159 <0.222.0> eh_repl_ring:add/4 --> {['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev']}
2:11:31.555308 <0.222.0>  '--> eh_repl_ring:predecessor/4
2:11:31.555360 <0.222.0> eh_repl_ring:'-predecessor/4-fun-0-'('ec_n1@centos7-dev', 'ec_n1@centos7-dev')
2:11:31.555411 <0.222.0> eh_repl_ring:'-predecessor/4-fun-0-'/2 --> false
2:11:31.555490 <0.222.0>  '--> lists:splitwith_1/3
2:11:31.555529 <0.222.0> eh_repl_ring:predecessor/4 --> 'ec_n3@centos7-dev'
2:11:31.555573 <0.222.0> eh_repl_ring:effective_tail_node_id/4 --> 'ec_n3@centos7-dev'
2:11:31.555618 <0.222.0>  '--> eh_node_timestamp:msg_status/2
2:11:31.555656 <0.222.0> eh_repl_ring:effective_head_node_id('ec_n1@centos7-dev', ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'], sorted)
2:11:31.555798 <0.222.0> eh_repl_ring:effective_head_node_id/4 --> 'ec_n1@centos7-dev'
2:11:31.555862 <0.222.0>  '--> eh_node_timestamp:msg_status/2
2:11:31.555925 <0.222.0> eh_node_timestamp:msg_status/2 --> eh_head_msg
2:11:31.556008 <0.222.0>  '--> eh_node_timestamp:valid_msg/6
2:11:31.556062 <0.222.0> eh_node_timestamp:valid_msg/6 --> {true,eh_head_msg,
    {eh_system_state,eh_ready,3,
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        'ec_n3@centos7-dev','ec_n2@centos7-dev',
        #{{eh_update_msg_key,3,candidate,10} =>
              {eh_update_msg_data,
                  [{name,1,donald_trump},{party,1,republican}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>},
          {eh_update_msg_key,3,person,10} =>
              {eh_update_msg_data,
                  [{name,1,john_smith},{age,1,40}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>}},
        #{},
        {set,2,16,16,8,80,48,
            {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
            {{[],[],[],[],[],[],
              [{eh_update_msg_key,2,candidate,10}],
              [],[],[],[],[],[],[],[],
              [{eh_update_msg_key,2,person,10}]}}},
        #{},#{},undefined,
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.557069 <0.222.0> eh_node_timestamp:valid_update_msg/2 --> {true,eh_head_msg,
    {eh_system_state,eh_ready,3,
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        'ec_n3@centos7-dev','ec_n2@centos7-dev',
        #{{eh_update_msg_key,3,candidate,10} =>
              {eh_update_msg_data,
                  [{name,1,donald_trump},{party,1,republican}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>},
          {eh_update_msg_key,3,person,10} =>
              {eh_update_msg_data,
                  [{name,1,john_smith},{age,1,40}],
                  <18723.452.0>,'ec_n1@centos7-dev',
                  #Ref<18723.3896970053.3661103105.102881>}},
        #{},
        {set,2,16,16,8,80,48,
            {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
            {{[],[],[],[],[],[],
              [{eh_update_msg_key,2,candidate,10}],
              [],[],[],[],[],[],[],[],
              [{eh_update_msg_key,2,person,10}]}}},
        #{},#{},undefined,
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.557596 <0.222.0>  '--> eh_system_server:process_msg/9
2:11:31.557666 <0.222.0> eh_system_server:event_message("succ_update.valid_head_msg", [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.558295 <0.222.0> eh_event:message(eh_system_server, "succ_update.valid_head_msg", {[{{eh_update_msg_key,3,candidate,10},
   {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                       <18723.452.0>,'ec_n1@centos7-dev',
                       #Ref<18723.3896970053.3661103105.102881>}},
  {{eh_update_msg_key,3,person,10},
   {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                       <18723.452.0>,'ec_n1@centos7-dev',
                       #Ref<18723.3896970053.3661103105.102881>}}],
 {set,2,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[],[],[],[],[],[],
        [{eh_update_msg_key,2,candidate,10}],
        [],[],[],[],[],[],[],[],
        [{eh_update_msg_key,2,person,10}]}}}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.558706 <0.222.0> eh_event:event_notify(message, {eh_system_server,"succ_update.valid_head_msg",
    {[{{eh_update_msg_key,3,candidate,10},
       {eh_update_msg_data,
           [{name,1,donald_trump},{party,1,republican}],
           <18723.452.0>,'ec_n1@centos7-dev',
           #Ref<18723.3896970053.3661103105.102881>}},
      {{eh_update_msg_key,3,person,10},
       {eh_update_msg_data,
           [{name,1,john_smith},{age,1,40}],
           <18723.452.0>,'ec_n1@centos7-dev',
           #Ref<18723.3896970053.3661103105.102881>}}],
     {set,2,16,16,8,80,48,
         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
         {{[],[],[],[],[],[],
           [{eh_update_msg_key,2,candidate,10}],
           [],[],[],[],[],[],[],[],
           [{eh_update_msg_key,2,person,10}]}}}}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.559076 <0.222.0> eh_event_handler:get_msg_data({message,
    {eh_system_server,"succ_update.valid_head_msg",
        {[{{eh_update_msg_key,3,candidate,10},
           {eh_update_msg_data,
               [{name,1,donald_trump},{party,1,republican}],
               <18723.452.0>,'ec_n1@centos7-dev',
               #Ref<18723.3896970053.3661103105.102881>}},
          {{eh_update_msg_key,3,person,10},
           {eh_update_msg_data,
               [{name,1,john_smith},{age,1,40}],
               <18723.452.0>,'ec_n1@centos7-dev',
               #Ref<18723.3896970053.3661103105.102881>}}],
         {set,2,16,16,8,80,48,
             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
             {{[],[],[],[],[],[],
               [{eh_update_msg_key,2,candidate,10}],
               [],[],[],[],[],[],[],[],
               [{eh_update_msg_key,2,person,10}]}}}}}})
2:11:31.559392 <0.222.0> eh_event_handler:list_msg_set_value({set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.559557 <0.222.0> eh_system_util:fold_set(#Fun<eh_event_handler.0.20189961>, [], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.559719 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'({eh_update_msg_key,2,person,10}, [])
2:11:31.559831 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,2,person,10})
2:11:31.559895 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,2,person,10})
2:11:31.560010 <0.222.0> eh_event_handler:is_listable_value(2)
2:11:31.560079 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.560162 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.560224 <0.222.0> eh_event_handler:is_listable_value(person)
2:11:31.560309 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.560389 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.560436 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.560496 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.560552 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.560627 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.560672 <0.222.0> eh_event_handler:list_value(2)
2:11:31.560730 <0.222.0> eh_event_handler:list_value/1 --> "2"
2:11:31.560791 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.560860 <0.222.0> eh_event_handler:list_value(person)
2:11:31.560930 <0.222.0> eh_event_handler:list_value/1 --> "person"
2:11:31.561012 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.561068 <0.222.0> eh_event_handler:list_value(10)
2:11:31.561126 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.561182 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.561284 <0.222.0> eh_event_handler:list_msg_key/1 --> "{2,person,10}"
2:11:31.561382 <0.222.0>  '--> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2
2:11:31.561446 <0.222.0> eh_event_handler:add_list("{2,person,10}", [])
2:11:31.561515 <0.222.0> eh_event_handler:add_list/2 --> "{2,person,10}"
2:11:31.561581 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2 --> "{2,person,10}"
2:11:31.561656 <0.222.0>  '--> sets:fold_bucket/3
2:11:31.561725 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'({eh_update_msg_key,2,candidate,10}, "{2,person,10}")
2:11:31.561834 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,2,candidate,10})
2:11:31.561960 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,2,candidate,10})
2:11:31.562038 <0.222.0> eh_event_handler:is_listable_value(2)
2:11:31.562080 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.562121 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.562159 <0.222.0> eh_event_handler:is_listable_value(candidate)
2:11:31.562231 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.562325 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.562373 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.562415 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.562456 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.562517 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.562616 <0.222.0> eh_event_handler:list_value(2)
2:11:31.562663 <0.222.0> eh_event_handler:list_value/1 --> "2"
2:11:31.562705 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.562742 <0.222.0> eh_event_handler:list_value(candidate)
2:11:31.562781 <0.222.0> eh_event_handler:list_value/1 --> "candidate"
2:11:31.562839 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.562918 <0.222.0> eh_event_handler:list_value(10)
2:11:31.563026 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.563071 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.563109 <0.222.0> eh_event_handler:list_msg_key/1 --> "{2,candidate,10}"
2:11:31.563170 <0.222.0>  '--> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2
2:11:31.563245 <0.222.0> eh_event_handler:add_list("{2,candidate,10}", "{2,person,10}")
2:11:31.563336 <0.222.0> eh_event_handler:add_list/2 --> "{2,person,10},{2,candidate,10}"
2:11:31.563433 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2 --> "{2,person,10},{2,candidate,10}"
2:11:31.563523 <0.222.0>  '--> sets:fold_bucket/3
2:11:31.563562 <0.222.0> eh_system_util:fold_set/3 --> "{2,person,10},{2,candidate,10}"
2:11:31.563608 <0.222.0> eh_event_handler:list_msg_set_value/1 --> "{2,person,10},{2,candidate,10}"
2:11:31.563671 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.563710 <0.222.0> eh_event_handler:list_msg_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.563919 <0.222.0> eh_event_handler:'-list_msg_list/1-fun-0-'({{eh_update_msg_key,3,candidate,10},
 {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, [])
2:11:31.564075 <0.222.0> eh_event_handler:list_msg({eh_update_msg_key,3,candidate,10}, 'ec_n1@centos7-dev')
2:11:31.564189 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,3,candidate,10})
2:11:31.564246 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,3,candidate,10})
2:11:31.564372 <0.222.0> eh_event_handler:is_listable_value(3)
2:11:31.564439 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.564516 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.564565 <0.222.0> eh_event_handler:is_listable_value(candidate)
2:11:31.564609 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.564651 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.564724 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.564791 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.564857 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.564937 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.564977 <0.222.0> eh_event_handler:list_value(3)
2:11:31.565016 <0.222.0> eh_event_handler:list_value/1 --> "3"
2:11:31.565099 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.565203 <0.222.0> eh_event_handler:list_value(candidate)
2:11:31.565279 <0.222.0> eh_event_handler:list_value/1 --> "candidate"
2:11:31.565361 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.565430 <0.222.0> eh_event_handler:list_value(10)
2:11:31.565508 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.565593 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.565681 <0.222.0> eh_event_handler:list_msg_key/1 --> "{3,candidate,10}"
2:11:31.565752 <0.222.0>  '--> eh_event_handler:list_msg/2
2:11:31.565823 <0.222.0> eh_event_handler:list_node_msg('ec_n1@centos7-dev', "{3,candidate,10}")
2:11:31.565901 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.566018 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.566081 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.566152 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.566257 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.566315 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.566376 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.566451 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.566527 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.566606 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.566658 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.566699 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.566762 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.566840 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.566892 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.566938 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.567009 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.567113 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.567165 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.567219 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.567315 <0.222.0>  '--> eh_event_handler:list_node_msg/2
2:11:31.567364 <0.222.0> eh_event_handler:list_node_msg/2 --> "ec_n1=>{3,candidate,10}"
2:11:31.567428 <0.222.0> eh_event_handler:list_msg/2 --> "ec_n1=>{3,candidate,10}"
2:11:31.567523 <0.222.0>  '--> eh_event_handler:'-list_msg_list/1-fun-0-'/2
2:11:31.567565 <0.222.0> eh_event_handler:add_list("ec_n1=>{3,candidate,10}", [])
2:11:31.567628 <0.222.0> eh_event_handler:add_list/2 --> "ec_n1=>{3,candidate,10}"
2:11:31.567712 <0.222.0> eh_event_handler:'-list_msg_list/1-fun-0-'/2 --> "ec_n1=>{3,candidate,10}"
2:11:31.567786 <0.222.0>  '--> lists:foldl/3
2:11:31.567841 <0.222.0> eh_event_handler:'-list_msg_list/1-fun-0-'({{eh_update_msg_key,3,person,10},
 {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, "ec_n1=>{3,candidate,10}")
2:11:31.568011 <0.222.0> eh_event_handler:list_msg({eh_update_msg_key,3,person,10}, 'ec_n1@centos7-dev')
2:11:31.568104 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,3,person,10})
2:11:31.568171 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,3,person,10})
2:11:31.568264 <0.222.0> eh_event_handler:is_listable_value(3)
2:11:31.568317 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.568390 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.568455 <0.222.0> eh_event_handler:is_listable_value(person)
2:11:31.568518 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.568586 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.568660 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.568712 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.568771 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.568848 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.568888 <0.222.0> eh_event_handler:list_value(3)
2:11:31.568927 <0.222.0> eh_event_handler:list_value/1 --> "3"
2:11:31.569009 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.569075 <0.222.0> eh_event_handler:list_value(person)
2:11:31.569140 <0.222.0> eh_event_handler:list_value/1 --> "person"
2:11:31.569270 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.569323 <0.222.0> eh_event_handler:list_value(10)
2:11:31.569365 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.569408 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.569447 <0.222.0> eh_event_handler:list_msg_key/1 --> "{3,person,10}"
2:11:31.569491 <0.222.0>  '--> eh_event_handler:list_msg/2
2:11:31.569549 <0.222.0> eh_event_handler:list_node_msg('ec_n1@centos7-dev', "{3,person,10}")
2:11:31.569646 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.569693 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.569735 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.569779 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.569833 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.569916 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.570010 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.570050 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.570093 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.570154 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.570227 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.570318 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.570374 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.570424 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.570466 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.570528 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.570600 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.570653 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.570700 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.570750 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.570815 <0.222.0>  '--> eh_event_handler:list_node_msg/2
2:11:31.570881 <0.222.0> eh_event_handler:list_node_msg/2 --> "ec_n1=>{3,person,10}"
2:11:31.570959 <0.222.0> eh_event_handler:list_msg/2 --> "ec_n1=>{3,person,10}"
2:11:31.571039 <0.222.0>  '--> eh_event_handler:'-list_msg_list/1-fun-0-'/2
2:11:31.571083 <0.222.0> eh_event_handler:add_list("ec_n1=>{3,person,10}", "ec_n1=>{3,candidate,10}")
2:11:31.571181 <0.222.0> eh_event_handler:add_list/2 --> "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}"
2:11:31.571250 <0.222.0> eh_event_handler:'-list_msg_list/1-fun-0-'/2 --> "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}"
2:11:31.571344 <0.222.0>  '--> lists:foldl_1/3
2:11:31.571390 <0.222.0> eh_event_handler:list_msg_list/1 --> "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}"
2:11:31.571466 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.571533 <0.222.0> eh_event_handler:get_msg_data/1 --> {"[~p] ~p message=~p, completed_set=~p~n",
 [eh_system_server,"succ_update.valid_head_msg",
  "ec_n1=>{3,candidate,10},ec_n1=>{3,person,10}",
  "{2,person,10},{2,candidate,10}"]}
2:11:31.571690 <0.222.0>  '--> eh_event:event_notify/3
2:11:31.571743 <0.222.0> eh_system_config:get_event_logger({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.571909 <0.222.0> eh_system_config:get_event_logger/1 --> lager_event
2:11:31.571991 <0.222.0>  '--> eh_event:event_notify/3
2:11:31.572032 <0.222.0> eh_event:event_notify/3 --> ok
2:11:31.572129 <0.222.0> eh_event:message/4 --> ok
2:11:31.572204 <0.222.0> eh_system_server:event_message/4 --> ok
2:11:31.572302 <0.222.0>  '--> eh_system_server:process_msg/9
2:11:31.573082 <0.222.0> eh_node_timestamp:update_state_timestamp(3, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.574012 <0.222.0> eh_node_state:update_state_msg({eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.574521 <0.222.0> eh_node_state:update_state_msg/1 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.574939 <0.222.0> eh_node_timestamp:update_state_timestamp/2 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.575370 <0.222.0>  '--> eh_system_server:process_msg/9
2:11:31.575431 <0.222.0> eh_node_timestamp:update_state_completed_set({set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,2,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],
          [{eh_update_msg_key,2,candidate,10}],
          [],[],[],[],[],[],[],[],
          [{eh_update_msg_key,2,person,10}]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.575895 <0.222.0> eh_system_util:subtract_set({set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}})
2:11:31.576177 <0.222.0> eh_system_util:subtract_set/2 --> {set,0,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}}
2:11:31.576327 <0.222.0>  '--> eh_node_timestamp:update_state_completed_set/2
2:11:31.576399 <0.222.0> eh_node_timestamp:update_state_completed_set/2 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.576817 <0.222.0>  '--> eh_system_server:process_msg/9
2:11:31.576876 <0.222.0> eh_system_server:reply_to_client(fun eh_persist_data:persist_data/2, [{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],
       [{eh_update_msg_key,2,candidate,10}],
       [],[],[],[],[],[],[],[],
       [{eh_update_msg_key,2,person,10}]}}}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.577537 <0.222.0> eh_persist_data:persist_data([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.578021 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.578224 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {undefined,undefined,undefined,undefined,[]})
2:11:31.578436 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{candidate,10,[{name,1,donald_trump},{party,1,republican}]}]})
2:11:31.578634 <0.222.0> eh_update_msg:get_data_list([], {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]})
2:11:31.578778 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.578901 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.579044 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.579170 <0.222.0> eh_update_msg:get_data_list/1 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.579311 <0.222.0>  '--> eh_persist_data:persist_data/2
2:11:31.579359 <0.222.0> eh_system_config:get_repl_data_manager({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.579519 <0.222.0> eh_system_config:get_repl_data_manager/1 --> eh_repl_data_manager_api
2:11:31.579613 <0.222.0>  '--> eh_persist_data:persist_data/2
2:11:31.579673 <0.222.0> eh_node_state:snapshot_state({eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.580075 <0.222.0> eh_node_state:snapshot_state/1 --> eh_ready
2:11:31.580136 <0.222.0>  '--> eh_persist_data:persist_data/2
2:11:31.580174 <0.222.0> eh_repl_data_manager_api:update(eh_ready, 3, [{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}])
2:11:31.580305 <0.221.0> eh_data_server:handle_call({eh_update,{eh_ready,3,
                     [{person,10,[{name,1,john_smith},{age,1,40}]},
                      {candidate,10,
                                 [{name,1,donald_trump},
                                  {party,1,republican}]}]}}, {<0.222.0>,[alias|#Ref<0.2863178779.3660644354.205703>]}, {eh_data_state,2,0,
               [{{candidate,10},2},{{person,10},2}],
               #{{eh_storage_key,candidate,10} =>
                     {[{eh_storage_value,2,2,1,party,republican},
                       {eh_storage_value,2,1,1,name,donald_trump},
                       {eh_storage_value,1,2,1,party,republican}],
                      [{eh_storage_value,1,1,1,name,donald_trump}]},
                 {eh_storage_key,person,10} =>
                     {[{eh_storage_value,2,2,1,age,40},
                       {eh_storage_value,2,1,1,name,john_smith},
                       {eh_storage_value,1,2,1,age,40}],
                      [{eh_storage_value,1,1,1,name,john_smith}]}},
               {[],[]},
               2,22,
               {file_descriptor,prim_file,
                                #{handle =>
                                      #Ref<0.2863178779.3660709906.203405>,
                                  owner => <0.221.0>,r_ahead_size => 0,
                                  r_buffer =>
                                      #Ref<0.2863178779.3660709889.203449>}},
               {eh_app_config,'ec_n1@centos7-dev',sorted,
                              eh_failure_detector_api,
                              eh_repl_data_manager_api,eh_storage_data_api,
                              eh_write_conflict_resolver_api,
                              eh_unique_id_generator_api,
                              eh_wait_query_handler_api,lager_event,10000,
                              "./","0000000000","ec_n1_repl.data",standard_io,
                              true,100,1,2000}})
2:11:31.580863 <0.221.0> eh_data_util:make_data([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], 3, {2,[{{candidate,10},2},{{person,10},2}]}, {[],[]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.581132 <0.221.0> eh_data_util:make_data(person, 10, 3, [{name,1,john_smith},{age,1,40}], {2,[{{candidate,10},2},{{person,10},2}]}, {[],[]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.581354 <0.221.0> eh_data_util:make_data_acc(person, 10, 3, [{name,1,john_smith},{age,1,40}], {0,
 {2,[{{candidate,10},2},{{person,10},2}]},
 {[],[]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}})
2:11:31.581605 <0.221.0> eh_data_util:storage_data(person, 10, 3, 1, {name,1,john_smith})
2:11:31.581717 <0.221.0> eh_data_util:storage_data/5 --> {eh_storage_data,person,10,3,1,1,name,john_smith}
2:11:31.581795 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.581846 <0.221.0> eh_data_util:add_data({eh_storage_data,person,10,3,1,1,name,john_smith}, {[],[]}, {2,[{{candidate,10},2},{{person,10},2}]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.582097 <0.221.0> eh_data_util:update_timestamp({eh_storage_data,person,10,3,1,1,name,john_smith}, {2,[{{candidate,10},2},{{person,10},2}]})
2:11:31.582231 <0.221.0> eh_data_util:update_timestamp/2 --> {3,[{{person,10},1}]}
2:11:31.582310 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.582361 <0.221.0> eh_data_util:add_key_value({eh_storage_data,person,10,3,1,1,name,john_smith}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.582576 <0.221.0> eh_data_util:make_key_value({eh_storage_data,person,10,3,1,1,name,john_smith})
2:11:31.582642 <0.221.0> eh_data_util:make_key(person, 10)
2:11:31.582685 <0.221.0> eh_data_util:make_key/2 --> {eh_storage_key,person,10}
2:11:31.582744 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.582782 <0.221.0> eh_data_util:make_value(3, 1, 1, name, john_smith)
2:11:31.582828 <0.221.0> eh_data_util:make_value/5 --> {eh_storage_value,3,1,1,name,john_smith}
2:11:31.582900 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.583006 <0.221.0> eh_data_util:make_key_value/1 --> {{eh_storage_key,person,10},{eh_storage_value,3,1,1,name,john_smith}}
2:11:31.583134 <0.221.0>  '--> eh_data_util:add_key_value/2
2:11:31.583192 <0.221.0> eh_data_util:add_key_value/2 --> #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}}
2:11:31.583416 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.583467 <0.221.0> eh_data_util:add_data/4 --> {1,
 {3,[{{person,10},1}]},
 {[{eh_storage_data,person,10,3,1,1,name,john_smith}],[]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.583705 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.583758 <0.221.0> eh_data_util:make_data_acc(person, 10, 3, [{age,1,40}], {1,
 {3,[{{person,10},1}]},
 {[{eh_storage_data,person,10,3,1,1,name,john_smith}],[]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}})
2:11:31.584050 <0.221.0> eh_data_util:storage_data(person, 10, 3, 2, {age,1,40})
2:11:31.584150 <0.221.0> eh_data_util:storage_data/5 --> {eh_storage_data,person,10,3,2,1,age,40}
2:11:31.584232 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.584278 <0.221.0> eh_data_util:add_data({eh_storage_data,person,10,3,2,1,age,40}, {[{eh_storage_data,person,10,3,1,1,name,john_smith}],[]}, {3,[{{person,10},1}]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.584545 <0.221.0> eh_data_util:update_timestamp({eh_storage_data,person,10,3,2,1,age,40}, {3,[{{person,10},1}]})
2:11:31.584643 <0.221.0> eh_data_util:update_timestamp/2 --> {3,[{{person,10},2}]}
2:11:31.584703 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.584742 <0.221.0> eh_data_util:add_key_value({eh_storage_data,person,10,3,2,1,age,40}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.584990 <0.221.0> eh_data_util:make_key_value({eh_storage_data,person,10,3,2,1,age,40})
2:11:31.585098 <0.221.0> eh_data_util:make_key(person, 10)
2:11:31.585151 <0.221.0> eh_data_util:make_key/2 --> {eh_storage_key,person,10}
2:11:31.585218 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.585311 <0.221.0> eh_data_util:make_value(3, 2, 1, age, 40)
2:11:31.585362 <0.221.0> eh_data_util:make_value/5 --> {eh_storage_value,3,2,1,age,40}
2:11:31.585412 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.585451 <0.221.0> eh_data_util:make_key_value/1 --> {{eh_storage_key,person,10},{eh_storage_value,3,2,1,age,40}}
2:11:31.585506 <0.221.0>  '--> eh_data_util:add_key_value/2
2:11:31.585562 <0.221.0> eh_data_util:add_key_value/2 --> #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}}
2:11:31.585801 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.585848 <0.221.0> eh_data_util:add_data/4 --> {2,
 {3,[{{person,10},2}]},
 {[{eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.586160 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.586229 <0.221.0> eh_data_util:make_data_acc(person, 10, 3, [], {2,
 {3,[{{person,10},2}]},
 {[{eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}})
2:11:31.586542 <0.221.0> eh_data_util:make_data_acc/5 --> {2,
 {3,[{{person,10},2}]},
 {[{eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.586837 <0.221.0> eh_data_util:make_data_acc/5 --> {2,
 {3,[{{person,10},2}]},
 {[{eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.587168 <0.221.0> eh_data_util:make_data_acc/5 --> {2,
 {3,[{{person,10},2}]},
 {[{eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.587454 <0.221.0> eh_data_util:make_data/7 --> {2,
 {3,[{{person,10},2}]},
 {[{eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.587753 <0.221.0>  '--> eh_data_util:make_data/5
2:11:31.587851 <0.221.0> eh_data_util:make_data([{candidate,10,[{name,1,donald_trump},{party,1,republican}]}], 3, {3,[{{person,10},2}]}, {[{eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.588173 <0.221.0> eh_data_util:make_data(candidate, 10, 3, [{name,1,donald_trump},{party,1,republican}], {3,[{{person,10},2}]}, {[{eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.588483 <0.221.0> eh_data_util:make_data_acc(candidate, 10, 3, [{name,1,donald_trump},{party,1,republican}], {0,
 {3,[{{person,10},2}]},
 {[{eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}})
2:11:31.588773 <0.221.0> eh_data_util:storage_data(candidate, 10, 3, 1, {name,1,donald_trump})
2:11:31.588891 <0.221.0> eh_data_util:storage_data/5 --> {eh_storage_data,candidate,10,3,1,1,name,donald_trump}
2:11:31.588983 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.589026 <0.221.0> eh_data_util:add_data({eh_storage_data,candidate,10,3,1,1,name,donald_trump}, {[{eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]}, {3,[{{person,10},2}]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.589378 <0.221.0> eh_data_util:update_timestamp({eh_storage_data,candidate,10,3,1,1,name,donald_trump}, {3,[{{person,10},2}]})
2:11:31.589492 <0.221.0> eh_data_util:update_timestamp/2 --> {3,[{{candidate,10},1},{{person,10},2}]}
2:11:31.589581 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.589657 <0.221.0> eh_data_util:add_key_value({eh_storage_data,candidate,10,3,1,1,name,donald_trump}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.589918 <0.221.0> eh_data_util:make_key_value({eh_storage_data,candidate,10,3,1,1,name,donald_trump})
2:11:31.590034 <0.221.0> eh_data_util:make_key(candidate, 10)
2:11:31.590094 <0.221.0> eh_data_util:make_key/2 --> {eh_storage_key,candidate,10}
2:11:31.590195 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.590256 <0.221.0> eh_data_util:make_value(3, 1, 1, name, donald_trump)
2:11:31.590312 <0.221.0> eh_data_util:make_value/5 --> {eh_storage_value,3,1,1,name,donald_trump}
2:11:31.590365 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.590405 <0.221.0> eh_data_util:make_key_value/1 --> {{eh_storage_key,candidate,10},{eh_storage_value,3,1,1,name,donald_trump}}
2:11:31.590526 <0.221.0>  '--> eh_data_util:add_key_value/2
2:11:31.590574 <0.221.0> eh_data_util:add_key_value/2 --> #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,3,1,1,name,donald_trump},
  {eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}}
2:11:31.590806 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.590854 <0.221.0> eh_data_util:add_data/4 --> {1,
 {3,[{{candidate,10},1},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.591248 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.591327 <0.221.0> eh_data_util:make_data_acc(candidate, 10, 3, [{party,1,republican}], {1,
 {3,[{{candidate,10},1},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}})
2:11:31.591707 <0.221.0> eh_data_util:storage_data(candidate, 10, 3, 2, {party,1,republican})
2:11:31.591810 <0.221.0> eh_data_util:storage_data/5 --> {eh_storage_data,candidate,10,3,2,1,party,republican}
2:11:31.591918 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.592027 <0.221.0> eh_data_util:add_data({eh_storage_data,candidate,10,3,2,1,party,republican}, {[{eh_storage_data,candidate,10,3,1,1,name,donald_trump},
  {eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]}, {3,[{{candidate,10},1},{{person,10},2}]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,3,1,1,name,donald_trump},
  {eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.593567 <0.221.0> eh_data_util:update_timestamp({eh_storage_data,candidate,10,3,2,1,party,republican}, {3,[{{candidate,10},1},{{person,10},2}]})
2:11:31.594065 <0.221.0> eh_data_util:update_timestamp/2 --> {3,[{{candidate,10},2},{{person,10},2}]}
2:11:31.594457 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.594857 <0.221.0> eh_data_util:add_key_value({eh_storage_data,candidate,10,3,2,1,party,republican}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,3,1,1,name,donald_trump},
  {eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.595417 <0.221.0> eh_data_util:make_key_value({eh_storage_data,candidate,10,3,2,1,party,republican})
2:11:31.595536 <0.221.0> eh_data_util:make_key(candidate, 10)
2:11:31.595615 <0.221.0> eh_data_util:make_key/2 --> {eh_storage_key,candidate,10}
2:11:31.595680 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.595741 <0.221.0> eh_data_util:make_value(3, 2, 1, party, republican)
2:11:31.595838 <0.221.0> eh_data_util:make_value/5 --> {eh_storage_value,3,2,1,party,republican}
2:11:31.595892 <0.221.0>  '--> eh_data_util:make_key_value/1
2:11:31.595931 <0.221.0> eh_data_util:make_key_value/1 --> {{eh_storage_key,candidate,10},{eh_storage_value,3,2,1,party,republican}}
2:11:31.595988 <0.221.0>  '--> eh_data_util:add_key_value/2
2:11:31.596057 <0.221.0> eh_data_util:add_key_value/2 --> #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,3,2,1,party,republican},
  {eh_storage_value,3,1,1,name,donald_trump},
  {eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}}
2:11:31.596358 <0.221.0>  '--> eh_data_util:add_data/4
2:11:31.596407 <0.221.0> eh_data_util:add_data/4 --> {2,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.596752 <0.221.0>  '--> eh_data_util:make_data_acc/5
2:11:31.596805 <0.221.0> eh_data_util:make_data_acc(candidate, 10, 3, [], {2,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}})
2:11:31.597171 <0.221.0> eh_data_util:make_data_acc/5 --> {2,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.597503 <0.221.0> eh_data_util:make_data_acc/5 --> {2,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.597796 <0.221.0> eh_data_util:make_data_acc/5 --> {2,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.598087 <0.221.0> eh_data_util:make_data/7 --> {2,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.598409 <0.221.0>  '--> eh_data_util:make_data/5
2:11:31.598474 <0.221.0> eh_data_util:make_data([], 3, {3,[{{candidate,10},2},{{person,10},2}]}, {[{eh_storage_data,candidate,10,3,2,1,party,republican},
  {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
  {eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]}, #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,3,2,1,party,republican},
  {eh_storage_value,3,1,1,name,donald_trump},
  {eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}})
2:11:31.598819 <0.221.0> eh_data_util:make_data/5 --> {0,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.599143 <0.221.0> eh_data_util:make_data/5 --> {0,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.599540 <0.221.0> eh_data_util:make_data/5 --> {0,
 {3,[{{candidate,10},2},{{person,10},2}]},
 {[{eh_storage_data,candidate,10,3,2,1,party,republican},
   {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
   {eh_storage_data,person,10,3,2,1,age,40}],
  [{eh_storage_data,person,10,3,1,1,name,john_smith}]},
 #{{eh_storage_key,candidate,10} =>
       {[{eh_storage_value,3,2,1,party,republican},
         {eh_storage_value,3,1,1,name,donald_trump},
         {eh_storage_value,2,2,1,party,republican},
         {eh_storage_value,2,1,1,name,donald_trump},
         {eh_storage_value,1,2,1,party,republican}],
        [{eh_storage_value,1,1,1,name,donald_trump}]},
   {eh_storage_key,person,10} =>
       {[{eh_storage_value,3,2,1,age,40},
         {eh_storage_value,3,1,1,name,john_smith},
         {eh_storage_value,2,2,1,age,40},
         {eh_storage_value,2,1,1,name,john_smith},
         {eh_storage_value,1,2,1,age,40}],
        [{eh_storage_value,1,1,1,name,john_smith}]}}}
2:11:31.599850 <0.221.0>  '--> eh_data_server:handle_call/3

% 在这里真正写入
2:11:31.599901 <0.221.0> eh_data_server:write_data(3, [{{candidate,10},2},{{person,10},2}], #{{eh_storage_key,candidate,10}=>{[{eh_storage_value,3,2,1,party,republican},
  {eh_storage_value,3,1,1,name,donald_trump},
  {eh_storage_value,2,2,1,party,republican},
  {eh_storage_value,2,1,1,name,donald_trump},
  {eh_storage_value,1,2,1,party,republican}],
 [{eh_storage_value,1,1,1,name,donald_trump}]}, {eh_storage_key,person,10}=>{[{eh_storage_value,3,2,1,age,40},
  {eh_storage_value,3,1,1,name,john_smith},
  {eh_storage_value,2,2,1,age,40},
  {eh_storage_value,2,1,1,name,john_smith},
  {eh_storage_value,1,2,1,age,40}],
 [{eh_storage_value,1,1,1,name,john_smith}]}}, {[{eh_storage_data,candidate,10,3,2,1,party,republican},
  {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
  {eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]}, {eh_data_state,2,0,
               [{{candidate,10},2},{{person,10},2}],
               #{{eh_storage_key,candidate,10} =>
                     {[{eh_storage_value,2,2,1,party,republican},
                       {eh_storage_value,2,1,1,name,donald_trump},
                       {eh_storage_value,1,2,1,party,republican}],
                      [{eh_storage_value,1,1,1,name,donald_trump}]},
                 {eh_storage_key,person,10} =>
                     {[{eh_storage_value,2,2,1,age,40},
                       {eh_storage_value,2,1,1,name,john_smith},
                       {eh_storage_value,1,2,1,age,40}],
                      [{eh_storage_value,1,1,1,name,john_smith}]}},
               {[],[]},
               2,22,
               {file_descriptor,prim_file,
                                #{handle =>
                                      #Ref<0.2863178779.3660709906.203405>,
                                  owner => <0.221.0>,r_ahead_size => 0,
                                  r_buffer =>
                                      #Ref<0.2863178779.3660709889.203449>}},
               {eh_app_config,'ec_n1@centos7-dev',sorted,
                              eh_failure_detector_api,
                              eh_repl_data_manager_api,eh_storage_data_api,
                              eh_write_conflict_resolver_api,
                              eh_unique_id_generator_api,
                              eh_wait_query_handler_api,lager_event,10000,
                              "./","0000000000","ec_n1_repl.data",standard_io,
                              true,100,1,2000}})
2:11:31.600717 <0.221.0> eh_storage_data_operation_api:write({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000}, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {[{eh_storage_data,candidate,10,3,2,1,party,republican},
  {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
  {eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]}, 22, 2)
2:11:31.601030 <0.221.0> eh_system_config:get_storage_data({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.601208 <0.221.0> eh_system_config:get_storage_data/1 --> eh_storage_data_api
2:11:31.601292 <0.221.0>  '--> eh_storage_data_operation_api:write/5
2:11:31.601345 <0.221.0> eh_storage_data_operation_api:write_entries(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {[{eh_storage_data,candidate,10,3,2,1,party,republican},
  {eh_storage_data,candidate,10,3,1,1,name,donald_trump},
  {eh_storage_data,person,10,3,2,1,age,40}],
 [{eh_storage_data,person,10,3,1,1,name,john_smith}]})
2:11:31.601562 <0.221.0> eh_storage_data_operation_api:write_entry(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {eh_storage_data,person,10,3,1,1,name,john_smith})
2:11:31.601739 <0.221.0> eh_storage_data_api:entry_to_binary({eh_storage_data,person,10,3,1,1,name,john_smith})
2:11:31.601833 <0.221.0> eh_storage_data_api:compute_hash(58, <<131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,6,112,101,114,115,111,110,97,10,97,3,97,1,97,1,100,0,4,110,97,109,101,
  100,0,10,106,111,104,110,95,115,109,105,116,104>>)
2:11:31.601993 <0.221.0> eh_storage_data_api:compute_hash/2 --> <<144,64,82,140,7,212,33,199,89,185,3,80,182,76,132,75,137,219,138,215>>
2:11:31.602093 <0.221.0>  '--> eh_storage_data_api:entry_to_binary/1
2:11:31.602138 <0.221.0> eh_storage_data_api:entry_to_binary/1 --> <<144,64,82,140,7,212,33,199,89,185,3,80,182,76,132,75,137,219,138,215,0,0,0,
  58,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,6,112,101,114,115,111,110,97,10,97,3,97,1,97,1,100,0,4,110,97,109,101,
  100,0,10,106,111,104,110,95,115,109,105,116,104>>
2:11:31.602331 <0.221.0>  '--> eh_storage_data_operation_api:write_entry/3
2:11:31.602387 <0.221.0> eh_persist_storage_data:write_data({file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, <<144,64,82,140,7,212,33,199,89,185,3,80,182,76,132,75,137,219,138,215,0,0,0,
  58,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,6,112,101,114,115,111,110,97,10,97,3,97,1,97,1,100,0,4,110,97,109,101,
  100,0,10,106,111,104,110,95,115,109,105,116,104>>)
2:11:31.602617 <0.221.0> eh_persist_storage_data:write_data/2 --> ok
2:11:31.602714 <0.221.0> eh_storage_data_operation_api:write_entry/3 --> ok
2:11:31.602771 <0.221.0>  '--> eh_storage_data_operation_api:write_entries/3
2:11:31.602813 <0.221.0> eh_storage_data_operation_api:write_entries(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {[{eh_storage_data,candidate,10,3,2,1,party,republican}],
 [{eh_storage_data,person,10,3,2,1,age,40},
  {eh_storage_data,candidate,10,3,1,1,name,donald_trump}]})
2:11:31.603039 <0.221.0> eh_storage_data_operation_api:write_entry(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {eh_storage_data,person,10,3,2,1,age,40})
2:11:31.603632 <0.221.0> eh_storage_data_api:entry_to_binary({eh_storage_data,person,10,3,2,1,age,40})
2:11:31.604042 <0.221.0> eh_storage_data_api:compute_hash(46, <<131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,6,112,101,114,115,111,110,97,10,97,3,97,2,97,1,100,0,3,97,103,101,97,40>>)
2:11:31.604479 <0.221.0> eh_storage_data_api:compute_hash/2 --> <<69,183,78,84,44,133,240,199,243,240,37,15,190,176,124,79,141,42,87,167>>
2:11:31.604632 <0.221.0>  '--> eh_storage_data_api:entry_to_binary/1
2:11:31.604715 <0.221.0> eh_storage_data_api:entry_to_binary/1 --> <<69,183,78,84,44,133,240,199,243,240,37,15,190,176,124,79,141,42,87,167,0,0,0,
  46,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,6,112,101,114,115,111,110,97,10,97,3,97,2,97,1,100,0,3,97,103,101,97,40>>
2:11:31.605132 <0.221.0>  '--> eh_storage_data_operation_api:write_entry/3
2:11:31.605248 <0.221.0> eh_persist_storage_data:write_data({file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, <<69,183,78,84,44,133,240,199,243,240,37,15,190,176,124,79,141,42,87,167,0,0,0,
  46,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,6,112,101,114,115,111,110,97,10,97,3,97,2,97,1,100,0,3,97,103,101,97,40>>)
2:11:31.605485 <0.221.0> eh_persist_storage_data:write_data/2 --> ok
2:11:31.605560 <0.221.0> eh_storage_data_operation_api:write_entry/3 --> ok
2:11:31.605651 <0.221.0>  '--> eh_storage_data_operation_api:write_entries/3
2:11:31.605718 <0.221.0> eh_storage_data_operation_api:write_entries(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {[{eh_storage_data,candidate,10,3,2,1,party,republican}],
 [{eh_storage_data,candidate,10,3,1,1,name,donald_trump}]})
2:11:31.605941 <0.221.0> eh_storage_data_operation_api:write_entry(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {eh_storage_data,candidate,10,3,1,1,name,donald_trump})
2:11:31.606153 <0.221.0> eh_storage_data_api:entry_to_binary({eh_storage_data,candidate,10,3,1,1,name,donald_trump})
2:11:31.606255 <0.221.0> eh_storage_data_api:compute_hash(63, <<131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,9,99,97,110,100,105,100,97,116,101,97,10,97,3,97,1,97,1,100,0,4,110,97,
  109,101,100,0,12,100,111,110,97,108,100,95,116,114,117,109,112>>)
2:11:31.606437 <0.221.0> eh_storage_data_api:compute_hash/2 --> <<163,222,124,140,68,205,235,31,222,92,78,216,21,132,242,193,194,20,162,164>>
2:11:31.606548 <0.221.0>  '--> eh_storage_data_api:entry_to_binary/1
2:11:31.606626 <0.221.0> eh_storage_data_api:entry_to_binary/1 --> <<163,222,124,140,68,205,235,31,222,92,78,216,21,132,242,193,194,20,162,164,0,
  0,0,63,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,
  116,97,100,0,9,99,97,110,100,105,100,97,116,101,97,10,97,3,97,1,97,1,100,0,4,
  110,97,109,101,100,0,12,100,111,110,97,108,100,95,116,114,117,109,112>>
2:11:31.606815 <0.221.0>  '--> eh_storage_data_operation_api:write_entry/3
2:11:31.606943 <0.221.0> eh_persist_storage_data:write_data({file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, <<163,222,124,140,68,205,235,31,222,92,78,216,21,132,242,193,194,20,162,164,0,
  0,0,63,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,
  116,97,100,0,9,99,97,110,100,105,100,97,116,101,97,10,97,3,97,1,97,1,100,0,4,
  110,97,109,101,100,0,12,100,111,110,97,108,100,95,116,114,117,109,112>>)
2:11:31.607214 <0.221.0> eh_persist_storage_data:write_data/2 --> ok
2:11:31.607286 <0.221.0> eh_storage_data_operation_api:write_entry/3 --> ok
2:11:31.607409 <0.221.0>  '--> eh_storage_data_operation_api:write_entries/3
2:11:31.607475 <0.221.0> eh_storage_data_operation_api:write_entries(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {[],[{eh_storage_data,candidate,10,3,2,1,party,republican}]})
2:11:31.607744 <0.221.0> eh_storage_data_operation_api:write_entry(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {eh_storage_data,candidate,10,3,2,1,party,republican})
2:11:31.607929 <0.221.0> eh_storage_data_api:entry_to_binary({eh_storage_data,candidate,10,3,2,1,party,republican})
2:11:31.608025 <0.221.0> eh_storage_data_api:compute_hash(62, <<131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,116,97,
  100,0,9,99,97,110,100,105,100,97,116,101,97,10,97,3,97,2,97,1,100,0,5,112,97,
  114,116,121,100,0,10,114,101,112,117,98,108,105,99,97,110>>)
2:11:31.608207 <0.221.0> eh_storage_data_api:compute_hash/2 --> <<197,39,252,173,159,22,10,55,160,121,197,214,107,171,233,214,176,235,211,206>>
2:11:31.608323 <0.221.0>  '--> eh_storage_data_api:entry_to_binary/1
2:11:31.608374 <0.221.0> eh_storage_data_api:entry_to_binary/1 --> <<197,39,252,173,159,22,10,55,160,121,197,214,107,171,233,214,176,235,211,206,
  0,0,0,62,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,
  116,97,100,0,9,99,97,110,100,105,100,97,116,101,97,10,97,3,97,2,97,1,100,0,5,
  112,97,114,116,121,100,0,10,114,101,112,117,98,108,105,99,97,110>>
2:11:31.608572 <0.221.0>  '--> eh_storage_data_operation_api:write_entry/3
2:11:31.608633 <0.221.0> eh_persist_storage_data:write_data({file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, <<197,39,252,173,159,22,10,55,160,121,197,214,107,171,233,214,176,235,211,206,
  0,0,0,62,131,104,8,100,0,15,101,104,95,115,116,111,114,97,103,101,95,100,97,
  116,97,100,0,9,99,97,110,100,105,100,97,116,101,97,10,97,3,97,2,97,1,100,0,5,
  112,97,114,116,121,100,0,10,114,101,112,117,98,108,105,99,97,110>>)
2:11:31.608876 <0.221.0> eh_persist_storage_data:write_data/2 --> ok
2:11:31.608961 <0.221.0> eh_storage_data_operation_api:write_entry/3 --> ok
2:11:31.609014 <0.221.0>  '--> eh_storage_data_operation_api:write_entries/3
2:11:31.609058 <0.221.0> eh_storage_data_operation_api:write_entries(eh_storage_data_api, {file_descriptor,prim_file,
                 #{handle => #Ref<0.2863178779.3660709906.203405>,
                   owner => <0.221.0>,r_ahead_size => 0,
                   r_buffer => #Ref<0.2863178779.3660709889.203449>}}, {[],[]})
2:11:31.609232 <0.221.0> eh_storage_data_operation_api:write_entries/3 --> ok
2:11:31.609292 <0.221.0> eh_storage_data_operation_api:write_entries/3 --> ok
2:11:31.609345 <0.221.0> eh_storage_data_operation_api:write_entries/3 --> ok
2:11:31.609406 <0.221.0> eh_storage_data_operation_api:write_entries/3 --> ok
2:11:31.609477 <0.221.0> eh_storage_data_operation_api:write_entries/3 --> ok
2:11:31.609531 <0.221.0>  '--> eh_storage_data_operation_api:write/5
2:11:31.609574 <0.221.0> eh_system_config:get_data_checkpoint({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.609771 <0.221.0> eh_system_config:get_data_checkpoint/1 --> 10000
2:11:31.609824 <0.221.0>  '--> eh_storage_data_operation_api:write/5
2:11:31.609888 <0.221.0> eh_storage_data_operation_api:write/5 --> {ok,{file_descriptor,prim_file,
                     #{handle => #Ref<0.2863178779.3660709906.203405>,
                       owner => <0.221.0>,r_ahead_size => 0,
                       r_buffer => #Ref<0.2863178779.3660709889.203449>}},
    22,3}
2:11:31.610066 <0.221.0>  '--> eh_data_server:write_data/5
2:11:31.610135 <0.221.0> eh_data_server:write_data/5 --> {reply,ok,
    {eh_data_state,3,0,
        [{{candidate,10},2},{{person,10},2}],
        #{{eh_storage_key,candidate,10} =>
              {[{eh_storage_value,3,2,1,party,republican},
                {eh_storage_value,3,1,1,name,donald_trump},
                {eh_storage_value,2,2,1,party,republican},
                {eh_storage_value,2,1,1,name,donald_trump},
                {eh_storage_value,1,2,1,party,republican}],
               [{eh_storage_value,1,1,1,name,donald_trump}]},
          {eh_storage_key,person,10} =>
              {[{eh_storage_value,3,2,1,age,40},
                {eh_storage_value,3,1,1,name,john_smith},
                {eh_storage_value,2,2,1,age,40},
                {eh_storage_value,2,1,1,name,john_smith},
                {eh_storage_value,1,2,1,age,40}],
               [{eh_storage_value,1,1,1,name,john_smith}]}},
        {[],[]},
        3,22,
        {file_descriptor,prim_file,
            #{handle => #Ref<0.2863178779.3660709906.203405>,
              owner => <0.221.0>,r_ahead_size => 0,
              r_buffer => #Ref<0.2863178779.3660709889.203449>}},
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.610594 <0.221.0> eh_data_server:handle_call/3 --> {reply,ok,
    {eh_data_state,3,0,
        [{{candidate,10},2},{{person,10},2}],
        #{{eh_storage_key,candidate,10} =>
              {[{eh_storage_value,3,2,1,party,republican},
                {eh_storage_value,3,1,1,name,donald_trump},
                {eh_storage_value,2,2,1,party,republican},
                {eh_storage_value,2,1,1,name,donald_trump},
                {eh_storage_value,1,2,1,party,republican}],
               [{eh_storage_value,1,1,1,name,donald_trump}]},
          {eh_storage_key,person,10} =>
              {[{eh_storage_value,3,2,1,age,40},
                {eh_storage_value,3,1,1,name,john_smith},
                {eh_storage_value,2,2,1,age,40},
                {eh_storage_value,2,1,1,name,john_smith},
                {eh_storage_value,1,2,1,age,40}],
               [{eh_storage_value,1,1,1,name,john_smith}]}},
        {[],[]},
        3,22,
        {file_descriptor,prim_file,
            #{handle => #Ref<0.2863178779.3660709906.203405>,
              owner => <0.221.0>,r_ahead_size => 0,
              r_buffer => #Ref<0.2863178779.3660709889.203449>}},
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.611082 <0.221.0>  '--> gen_server:try_handle_call/4
2:11:31.611180 <0.222.0> eh_repl_data_manager_api:update/3 --> ok
2:11:31.611267 <0.222.0>  '--> eh_persist_data:persist_data/2


% process_pending
2:11:31.611337 <0.222.0> eh_query_handler:process_pending([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.611811 <0.222.0> eh_query_handler:'-process_pending/2-fun-0-'({person,10,[{name,1,john_smith},{age,1,40}]}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.612327 <0.222.0> eh_query_handler:process_pending(person, 10, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.612780 <0.222.0> eh_system_util:find_map({person,10}, #{})
2:11:31.612877 <0.222.0> eh_system_util:find_map/2 --> error
2:11:31.612933 <0.222.0>  '--> eh_query_handler:process_pending/3
2:11:31.613022 <0.222.0> eh_node_timestamp:update_state_remove_query_data(person, 10, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.613512 <0.222.0> eh_system_util:remove_map({person,10}, #{})
2:11:31.613606 <0.222.0> eh_system_util:remove_map/2 --> #{}
2:11:31.613696 <0.222.0>  '--> eh_node_timestamp:update_state_remove_query_data/3
2:11:31.613749 <0.222.0> eh_node_timestamp:update_state_remove_query_data/3 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.614192 <0.222.0> eh_query_handler:process_pending/3 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.614599 <0.222.0> eh_query_handler:'-process_pending/2-fun-0-'/2 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.615014 <0.222.0>  '--> lists:foldl/3
2:11:31.615073 <0.222.0> eh_query_handler:'-process_pending/2-fun-0-'({candidate,10,[{name,1,donald_trump},{party,1,republican}]}, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.615540 <0.222.0> eh_query_handler:process_pending(candidate, 10, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.615988 <0.222.0> eh_system_util:find_map({candidate,10}, #{})
2:11:31.616085 <0.222.0> eh_system_util:find_map/2 --> error
2:11:31.616190 <0.222.0>  '--> eh_query_handler:process_pending/3
2:11:31.616253 <0.222.0> eh_node_timestamp:update_state_remove_query_data(candidate, 10, {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.616672 <0.222.0> eh_system_util:remove_map({candidate,10}, #{})
2:11:31.616782 <0.222.0> eh_system_util:remove_map/2 --> #{}
2:11:31.616842 <0.222.0>  '--> eh_node_timestamp:update_state_remove_query_data/3
2:11:31.616915 <0.222.0> eh_node_timestamp:update_state_remove_query_data/3 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.617393 <0.222.0> eh_query_handler:process_pending/3 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.617859 <0.222.0> eh_query_handler:'-process_pending/2-fun-0-'/2 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.618363 <0.222.0>  '--> lists:foldl_1/3
2:11:31.618441 <0.222.0> eh_query_handler:process_pending/2 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.618875 <0.222.0> eh_persist_data:persist_data/2 --> {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}}
2:11:31.619441 <0.222.0>  '--> eh_system_server:reply_to_client/4
2:11:31.619516 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}])
2:11:31.619778 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {undefined,undefined,undefined,undefined,[]})
2:11:31.620067 <0.222.0> eh_update_msg:get_data_list([{{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{candidate,10,[{name,1,donald_trump},{party,1,republican}]}]})
2:11:31.620316 <0.222.0> eh_update_msg:get_data_list([], {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]})
2:11:31.620509 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.620665 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.620833 <0.222.0> eh_update_msg:get_data_list/2 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.621019 <0.222.0> eh_update_msg:get_data_list/1 --> {3,<18723.452.0>,'ec_n1@centos7-dev',#Ref<18723.3896970053.3661103105.102881>,
 [{person,10,[{name,1,john_smith},{age,1,40}]},
  {candidate,10,[{name,1,donald_trump},{party,1,republican}]}]}
2:11:31.621916 <0.222.0>  '--> eh_system_server:reply_to_client/4
2:11:31.622634 <0.222.0> eh_query_handler:updated([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}])
2:11:31.623077 <0.222.0> eh_query_handler:object(ok, [{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], updated)
2:11:31.623433 <0.222.0> eh_query_handler:object_tuple([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], updated)
2:11:31.623856 <0.222.0> eh_update_msg:get_object_list([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}])
2:11:31.624028 <0.222.0> eh_update_msg:get_object_list([{person,10,[{name,1,john_smith},{age,1,40}]},
 {candidate,10,[{name,1,donald_trump},{party,1,republican}]}], [])
2:11:31.624192 <0.222.0> eh_update_msg:get_object_list([{candidate,10,[{name,1,donald_trump},{party,1,republican}]}], [{person,10}])
2:11:31.624305 <0.222.0> eh_update_msg:get_object_list([], [{candidate,10},{person,10}])
2:11:31.624401 <0.222.0> eh_update_msg:get_object_list/2 --> [{candidate,10},{person,10}]
2:11:31.624458 <0.222.0> eh_update_msg:get_object_list/2 --> [{candidate,10},{person,10}]
2:11:31.624532 <0.222.0> eh_update_msg:get_object_list/2 --> [{candidate,10},{person,10}]
2:11:31.624629 <0.222.0> eh_update_msg:get_object_list/1 --> [{candidate,10},{person,10}]
2:11:31.624682 <0.222.0>  '--> eh_query_handler:object_tuple/2
2:11:31.624731 <0.222.0> eh_query_handler:object_tuple/2 --> {[{candidate,10},{person,10}],updated}
2:11:31.624804 <0.222.0>  '--> eh_query_handler:object/3
2:11:31.625012 <0.222.0> eh_query_handler:object/3 --> {ok,{[{candidate,10},{person,10}],updated}}
2:11:31.625161 <0.222.0> eh_query_handler:updated/1 --> {ok,{[{candidate,10},{person,10}],updated}}
2:11:31.625260 <0.222.0>  '--> eh_system_server:reply_to_client/4
2:11:31.625301 <0.222.0> eh_query_handler:reply(<18723.452.0>, #Ref<18723.3896970053.3661103105.102881>, {ok,{[{candidate,10},{person,10}],updated}})
2:11:31.625424 <0.222.0> eh_query_handler:reply/3 --> {reply,#Ref<18723.3896970053.3661103105.102881>,
       {ok,{[{candidate,10},{person,10}],updated}}}
2:11:31.625533 <0.222.0>  '--> eh_system_server:reply_to_client/4
2:11:31.625580 <0.222.0> eh_node_timestamp:update_state_client_reply([{{eh_update_msg_key,3,candidate,10},
  {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}},
 {{eh_update_msg_key,3,person,10},
  {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                      <18723.452.0>,'ec_n1@centos7-dev',
                      #Ref<18723.3896970053.3661103105.102881>}}], {eh_system_state,eh_ready,3,
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
    'ec_n3@centos7-dev','ec_n2@centos7-dev',
    #{{eh_update_msg_key,3,candidate,10} =>
          {eh_update_msg_data,
              [{name,1,donald_trump},{party,1,republican}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>},
      {eh_update_msg_key,3,person,10} =>
          {eh_update_msg_data,
              [{name,1,john_smith},{age,1,40}],
              <18723.452.0>,'ec_n1@centos7-dev',
              #Ref<18723.3896970053.3661103105.102881>}},
    #{},
    {set,0,16,16,8,80,48,
        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
        {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
    #{},#{},undefined,
    {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
        eh_repl_data_manager_api,eh_storage_data_api,
        eh_write_conflict_resolver_api,eh_unique_id_generator_api,
        eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
        "ec_n1_repl.data",standard_io,true,100,1,2000}})
2:11:31.626113 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'({{eh_update_msg_key,3,candidate,10},
 {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {#{{eh_update_msg_key,3,candidate,10} =>
       {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                           <18723.452.0>,'ec_n1@centos7-dev',
                           #Ref<18723.3896970053.3661103105.102881>},
   {eh_update_msg_key,3,person,10} =>
       {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                           <18723.452.0>,'ec_n1@centos7-dev',
                           #Ref<18723.3896970053.3661103105.102881>}},
 {set,0,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}}})
2:11:31.626408 <0.222.0> eh_system_util:remove_map({eh_update_msg_key,3,candidate,10}, #{{eh_update_msg_key,3,candidate,10}=>{eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}, {eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.626648 <0.222.0> eh_system_util:remove_map/2 --> #{{eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}}
2:11:31.626808 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'/2
2:11:31.626865 <0.222.0> eh_system_util:add_set({eh_update_msg_key,3,candidate,10}, {set,0,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}})
2:11:31.627031 <0.222.0> eh_system_util:add_set/2 --> {set,1,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}}
2:11:31.627199 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'/2
2:11:31.627295 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'/2 --> {#{{eh_update_msg_key,3,person,10} =>
       {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                           <18723.452.0>,'ec_n1@centos7-dev',
                           #Ref<18723.3896970053.3661103105.102881>}},
 {set,1,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[],[],[],[],[],[],[],
        [{eh_update_msg_key,3,candidate,10}],
        [],[],[],[],[],[],[],[]}}}}
2:11:31.627525 <0.222.0>  '--> lists:foldl/3
2:11:31.627582 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'({{eh_update_msg_key,3,person,10},
 {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {#{{eh_update_msg_key,3,person,10} =>
       {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                           <18723.452.0>,'ec_n1@centos7-dev',
                           #Ref<18723.3896970053.3661103105.102881>}},
 {set,1,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[],[],[],[],[],[],[],
        [{eh_update_msg_key,3,candidate,10}],
        [],[],[],[],[],[],[],[]}}}})
2:11:31.627843 <0.222.0> eh_system_util:remove_map({eh_update_msg_key,3,person,10}, #{{eh_update_msg_key,3,person,10}=>{eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                    <18723.452.0>,'ec_n1@centos7-dev',
                    #Ref<18723.3896970053.3661103105.102881>}})
2:11:31.628004 <0.222.0> eh_system_util:remove_map/2 --> #{}
2:11:31.628074 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'/2
2:11:31.628177 <0.222.0> eh_system_util:add_set({eh_update_msg_key,3,person,10}, {set,1,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[],[],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}})
2:11:31.628345 <0.222.0> eh_system_util:add_set/2 --> {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[{eh_update_msg_key,3,person,10}],
       [],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}}
2:11:31.628505 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'/2
2:11:31.628559 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-0-'/2 --> {#{},
 {set,2,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[{eh_update_msg_key,3,person,10}],
        [],[],[],[],[],[],
        [{eh_update_msg_key,3,candidate,10}],
        [],[],[],[],[],[],[],[]}}}}
2:11:31.628715 <0.222.0>  '--> lists:foldl_1/3
2:11:31.628773 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'({{eh_update_msg_key,3,candidate,10},
 {eh_update_msg_data,[{name,1,donald_trump},{party,1,republican}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {#{},
 {set,2,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[{eh_update_msg_key,3,person,10}],
        [],[],[],[],[],[],
        [{eh_update_msg_key,3,candidate,10}],
        [],[],[],[],[],[],[],[]}}}})
2:11:31.629014 <0.222.0> eh_system_util:remove_map({eh_update_msg_key,3,candidate,10}, #{})
2:11:31.629116 <0.222.0> eh_system_util:remove_map/2 --> #{}
2:11:31.629215 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'/2
2:11:31.629283 <0.222.0> eh_system_util:add_set({eh_update_msg_key,3,candidate,10}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[{eh_update_msg_key,3,person,10}],
       [],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}})
2:11:31.629461 <0.222.0> eh_system_util:add_set/2 --> {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[{eh_update_msg_key,3,person,10}],
       [],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}}
2:11:31.629608 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'/2
2:11:31.629684 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'/2 --> {#{},
 {set,2,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[{eh_update_msg_key,3,person,10}],
        [],[],[],[],[],[],
        [{eh_update_msg_key,3,candidate,10}],
        [],[],[],[],[],[],[],[]}}}}
2:11:31.629859 <0.222.0>  '--> lists:foldl/3
2:11:31.629918 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'({{eh_update_msg_key,3,person,10},
 {eh_update_msg_data,[{name,1,john_smith},{age,1,40}],
                     <18723.452.0>,'ec_n1@centos7-dev',
                     #Ref<18723.3896970053.3661103105.102881>}}, {#{},
 {set,2,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[{eh_update_msg_key,3,person,10}],
        [],[],[],[],[],[],
        [{eh_update_msg_key,3,candidate,10}],
        [],[],[],[],[],[],[],[]}}}})
2:11:31.630167 <0.222.0> eh_system_util:remove_map({eh_update_msg_key,3,person,10}, #{})
2:11:31.630284 <0.222.0> eh_system_util:remove_map/2 --> #{}
2:11:31.630343 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'/2
2:11:31.630389 <0.222.0> eh_system_util:add_set({eh_update_msg_key,3,person,10}, {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[{eh_update_msg_key,3,person,10}],
       [],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}})
2:11:31.630557 <0.222.0> eh_system_util:add_set/2 --> {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[{eh_update_msg_key,3,person,10}],
       [],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}}
2:11:31.630719 <0.222.0>  '--> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'/2
2:11:31.630778 <0.222.0> eh_node_timestamp:'-update_state_client_reply/2-fun-1-'/2 --> {#{},
 {set,2,16,16,8,80,48,
      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
      {{[{eh_update_msg_key,3,person,10}],
        [],[],[],[],[],[],
        [{eh_update_msg_key,3,candidate,10}],
        [],[],[],[],[],[],[],[]}}}}
2:11:31.630949 <0.222.0>  '--> lists:foldl_1/3
2:11:31.631016 <0.222.0> eh_node_timestamp:update_state_client_reply/2 --> {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[{eh_update_msg_key,3,person,10}],
                        [],[],[],[],[],[],
                        [{eh_update_msg_key,3,candidate,10}],
                        [],[],[],[],[],[],[],[]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}
2:11:31.631440 <0.222.0> eh_system_server:reply_to_client/4 --> {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[{eh_update_msg_key,3,person,10}],
                        [],[],[],[],[],[],
                        [{eh_update_msg_key,3,candidate,10}],
                        [],[],[],[],[],[],[],[]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}
2:11:31.631782 <0.222.0>  '--> eh_system_server:process_msg/9
2:11:31.631835 <0.222.0> eh_system_server:event_state("succ_update.99", {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[{eh_update_msg_key,3,person,10}],
                        [],[],[],[],[],[],
                        [{eh_update_msg_key,3,candidate,10}],
                        [],[],[],[],[],[],[],[]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.632318 <0.222.0> eh_event:state(eh_system_server, "succ_update.99", {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[{eh_update_msg_key,3,person,10}],
                        [],[],[],[],[],[],
                        [{eh_update_msg_key,3,candidate,10}],
                        [],[],[],[],[],[],[],[]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.632749 <0.222.0> eh_event:event_notify(state, {eh_system_server,"succ_update.99",
    {eh_system_state,eh_ready,3,
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
        {set,2,16,16,8,80,48,
            {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
            {{[{eh_update_msg_key,3,person,10}],
              [],[],[],[],[],[],
              [{eh_update_msg_key,3,candidate,10}],
              [],[],[],[],[],[],[],[]}}},
        #{},#{},undefined,
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}, {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.633180 <0.222.0> eh_event_handler:get_msg_data({state,
    {eh_system_server,"succ_update.99",
        {eh_system_state,eh_ready,3,
            ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
            ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
            'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
            {set,2,16,16,8,80,48,
                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                {{[{eh_update_msg_key,3,person,10}],
                  [],[],[],[],[],[],
                  [{eh_update_msg_key,3,candidate,10}],
                  [],[],[],[],[],[],[],[]}}},
            #{},#{},undefined,
            {eh_app_config,'ec_n1@centos7-dev',sorted,
                eh_failure_detector_api,eh_repl_data_manager_api,
                eh_storage_data_api,eh_write_conflict_resolver_api,
                eh_unique_id_generator_api,eh_wait_query_handler_api,
                lager_event,10000,"./","0000000000","ec_n1_repl.data",
                standard_io,true,100,1,2000}}}})
2:11:31.633551 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.633669 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.633733 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.633807 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.633901 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.634006 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.634131 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.634203 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.634283 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.634354 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.634433 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.634517 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.634602 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.634664 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.634731 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.634807 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.634886 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.634949 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.635001 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.635041 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.635088 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.635191 <0.222.0> eh_system_util:get_node_name('ec_n3@centos7-dev')
2:11:31.635262 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.635332 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.635413 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.635456 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.635521 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.635611 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.635670 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.635719 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.635774 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.635814 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.635878 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.635991 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.636056 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(51)
2:11:31.636158 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.636214 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.636280 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.636356 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.636441 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.636497 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n3"
2:11:31.636545 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.636585 <0.222.0> eh_system_util:get_node_name('ec_n2@centos7-dev')
2:11:31.636659 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.636733 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.636805 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.636874 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.636920 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.636993 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.637073 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.637155 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.637233 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.637275 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.637319 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.637389 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.637460 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(50)
2:11:31.637542 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.637635 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.637725 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.637801 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.637889 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.637985 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n2"
2:11:31.638097 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.638173 <0.222.0> eh_node_state:display_state({eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[{eh_update_msg_key,3,person,10}],
                        [],[],[],[],[],[],
                        [{eh_update_msg_key,3,candidate,10}],
                        [],[],[],[],[],[],[],[]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}})
2:11:31.638582 <0.222.0> eh_system_util:display_atom_to_list(eh_ready)
2:11:31.638643 <0.222.0> eh_system_util:display_atom_to_list/1 --> "ready"
2:11:31.638703 <0.222.0> eh_node_state:display_state/1 --> "ready"
2:11:31.638751 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.638793 <0.222.0> eh_system_util:make_list_to_string(fun eh_system_util:get_node_name/1, ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'])
2:11:31.638896 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'('ec_n1@centos7-dev', [], fun eh_system_util:get_node_name/1)
2:11:31.638974 <0.222.0> eh_system_util:get_node_name('ec_n1@centos7-dev')
2:11:31.639019 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.639117 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.639195 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.639271 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.639327 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.639376 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.639416 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.639483 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.639567 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.639617 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.639666 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.639712 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.639751 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(49)
2:11:31.639816 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.639899 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.639957 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.640006 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.640084 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.640155 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n1"
2:11:31.640238 <0.222.0>  '--> eh_system_util:'-make_list_to_string/2-fun-0-'/3
2:11:31.640311 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'/3 --> "ec_n1"
2:11:31.640382 <0.222.0>  '--> lists:foldl/3
2:11:31.640422 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'('ec_n2@centos7-dev', "ec_n1", fun eh_system_util:get_node_name/1)
2:11:31.640527 <0.222.0> eh_system_util:get_node_name('ec_n2@centos7-dev')
2:11:31.640593 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.640668 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.640762 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.640821 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.640902 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.640983 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.641065 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.641137 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.641227 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.641296 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.641370 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.641446 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.641534 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(50)
2:11:31.641604 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.641689 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.641760 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.641841 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.641925 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.641998 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n2"
2:11:31.642079 <0.222.0>  '--> eh_system_util:'-make_list_to_string/2-fun-0-'/3
2:11:31.642163 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'/3 --> "ec_n1,ec_n2"
2:11:31.642245 <0.222.0>  '--> lists:foldl_1/3
2:11:31.642307 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'('ec_n3@centos7-dev', "ec_n1,ec_n2", fun eh_system_util:get_node_name/1)
2:11:31.642415 <0.222.0> eh_system_util:get_node_name('ec_n3@centos7-dev')
2:11:31.642464 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(101)
2:11:31.642526 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.642613 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.642688 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(99)
2:11:31.642762 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.642856 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.642912 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(95)
2:11:31.642961 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.643057 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.643150 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(110)
2:11:31.643229 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.643302 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.643379 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(51)
2:11:31.643445 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> true
2:11:31.643518 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.643593 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'(64)
2:11:31.643652 <0.222.0> eh_system_util:'-get_node_name/1-fun-0-'/1 --> false
2:11:31.643717 <0.222.0>  '--> lists:takewhile_1/2
2:11:31.643796 <0.222.0> eh_system_util:get_node_name/1 --> "ec_n3"
2:11:31.643870 <0.222.0>  '--> eh_system_util:'-make_list_to_string/2-fun-0-'/3
2:11:31.643963 <0.222.0> eh_system_util:'-make_list_to_string/2-fun-0-'/3 --> "ec_n1,ec_n2,ec_n3"
2:11:31.644055 <0.222.0>  '--> lists:foldl_1/3
2:11:31.644125 <0.222.0> eh_system_util:make_list_to_string/2 --> "ec_n1,ec_n2,ec_n3"
2:11:31.644202 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.644278 <0.222.0> eh_event_handler:list_msg_map(#{})
2:11:31.644361 <0.222.0> eh_system_util:fold_map(#Fun<eh_event_handler.1.20189961>, [], #{})
2:11:31.644442 <0.222.0> eh_system_util:fold_map/3 --> []
2:11:31.644515 <0.222.0> eh_event_handler:list_msg_map/1 --> []
2:11:31.644598 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.644669 <0.222.0> eh_event_handler:list_msg_map(#{})
2:11:31.644739 <0.222.0> eh_system_util:fold_map(#Fun<eh_event_handler.1.20189961>, [], #{})
2:11:31.644830 <0.222.0> eh_system_util:fold_map/3 --> []
2:11:31.644899 <0.222.0> eh_event_handler:list_msg_map/1 --> []
2:11:31.644996 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.645092 <0.222.0> eh_event_handler:list_msg_set_value({set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[{eh_update_msg_key,3,person,10}],
       [],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}})
2:11:31.645267 <0.222.0> eh_system_util:fold_set(#Fun<eh_event_handler.0.20189961>, [], {set,2,16,16,8,80,48,
     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
     {{[{eh_update_msg_key,3,person,10}],
       [],[],[],[],[],[],
       [{eh_update_msg_key,3,candidate,10}],
       [],[],[],[],[],[],[],[]}}})
2:11:31.645441 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'({eh_update_msg_key,3,candidate,10}, [])
2:11:31.645560 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,3,candidate,10})
2:11:31.645646 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,3,candidate,10})
2:11:31.645719 <0.222.0> eh_event_handler:is_listable_value(3)
2:11:31.645805 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.645865 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.645936 <0.222.0> eh_event_handler:is_listable_value(candidate)
2:11:31.646024 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.646115 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.646187 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.646263 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.646333 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.646411 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.646473 <0.222.0> eh_event_handler:list_value(3)
2:11:31.646558 <0.222.0> eh_event_handler:list_value/1 --> "3"
2:11:31.646631 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.646695 <0.222.0> eh_event_handler:list_value(candidate)
2:11:31.646744 <0.222.0> eh_event_handler:list_value/1 --> "candidate"
2:11:31.646814 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.646884 <0.222.0> eh_event_handler:list_value(10)
2:11:31.646961 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.647049 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.647118 <0.222.0> eh_event_handler:list_msg_key/1 --> "{3,candidate,10}"
2:11:31.647222 <0.222.0>  '--> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2
2:11:31.647299 <0.222.0> eh_event_handler:add_list("{3,candidate,10}", [])
2:11:31.647395 <0.222.0> eh_event_handler:add_list/2 --> "{3,candidate,10}"
2:11:31.647498 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2 --> "{3,candidate,10}"
2:11:31.647582 <0.222.0>  '--> sets:fold_bucket/3
2:11:31.647647 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'({eh_update_msg_key,3,person,10}, "{3,candidate,10}")
2:11:31.647742 <0.222.0> eh_event_handler:list_msg_key({eh_update_msg_key,3,person,10})
2:11:31.647824 <0.222.0> eh_event_handler:is_listable_msg_key({eh_update_msg_key,3,person,10})
2:11:31.647901 <0.222.0> eh_event_handler:is_listable_value(3)
2:11:31.648071 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.648190 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.648241 <0.222.0> eh_event_handler:is_listable_value(person)
2:11:31.648305 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.648391 <0.222.0>  '--> eh_event_handler:is_listable_msg_key/1
2:11:31.648463 <0.222.0> eh_event_handler:is_listable_value(10)
2:11:31.648534 <0.222.0> eh_event_handler:is_listable_value/1 --> true
2:11:31.648609 <0.222.0> eh_event_handler:is_listable_msg_key/1 --> true
2:11:31.648701 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.648774 <0.222.0> eh_event_handler:list_value(3)
2:11:31.648849 <0.222.0> eh_event_handler:list_value/1 --> "3"
2:11:31.648933 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.649017 <0.222.0> eh_event_handler:list_value(person)
2:11:31.649149 <0.222.0> eh_event_handler:list_value/1 --> "person"
2:11:31.649208 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.649250 <0.222.0> eh_event_handler:list_value(10)
2:11:31.649311 <0.222.0> eh_event_handler:list_value/1 --> "10"
2:11:31.649398 <0.222.0>  '--> eh_event_handler:list_msg_key/1
2:11:31.649450 <0.222.0> eh_event_handler:list_msg_key/1 --> "{3,person,10}"
2:11:31.649501 <0.222.0>  '--> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2
2:11:31.649563 <0.222.0> eh_event_handler:add_list("{3,person,10}", "{3,candidate,10}")
2:11:31.649650 <0.222.0> eh_event_handler:add_list/2 --> "{3,candidate,10},{3,person,10}"
2:11:31.649726 <0.222.0> eh_event_handler:'-list_msg_set_value/1-fun-0-'/2 --> "{3,candidate,10},{3,person,10}"
2:11:31.649820 <0.222.0>  '--> sets:fold_bucket/3
2:11:31.649883 <0.222.0> eh_system_util:fold_set/3 --> "{3,candidate,10},{3,person,10}"
2:11:31.649964 <0.222.0> eh_event_handler:list_msg_set_value/1 --> "{3,candidate,10},{3,person,10}"
2:11:31.650069 <0.222.0>  '--> eh_event_handler:get_msg_data/1
2:11:31.650142 <0.222.0> eh_event_handler:get_msg_data/1 --> {"[~p] ~p node_status=~p, node_id=~p, repl_ring=~p, pred=~p, succ=~p, timestamp=~p, pre_msg_data=~p, msg_data=~p, completed_set=~p~n",
 [eh_system_server,"succ_update.99","ready","ec_n1","ec_n1,ec_n2,ec_n3",
  "ec_n3","ec_n2",3,[],[],"{3,candidate,10},{3,person,10}"]}
2:11:31.650372 <0.222.0>  '--> eh_event:event_notify/3
2:11:31.650452 <0.222.0> eh_system_config:get_event_logger({eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
               eh_repl_data_manager_api,eh_storage_data_api,
               eh_write_conflict_resolver_api,eh_unique_id_generator_api,
               eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
               "ec_n1_repl.data",standard_io,true,100,1,2000})
2:11:31.650664 <0.222.0> eh_system_config:get_event_logger/1 --> lager_event
2:11:31.650725 <0.222.0>  '--> eh_event:event_notify/3
2:11:31.650788 <0.222.0> eh_event:event_notify/3 --> ok
2:11:31.650881 <0.222.0> eh_event:state/4 --> ok
2:11:31.650936 <0.222.0> eh_system_server:event_state/3 --> ok
2:11:31.650988 <0.222.0>  '--> eh_system_server:process_msg/9
2:11:31.651029 <0.222.0> eh_system_server:process_msg/9 --> {eh_system_state,eh_ready,3,
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
                 'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
                 {set,2,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[{eh_update_msg_key,3,person,10}],
                        [],[],[],[],[],[],
                        [{eh_update_msg_key,3,candidate,10}],
                        [],[],[],[],[],[],[],[]}}},
                 #{},#{},undefined,
                 {eh_app_config,'ec_n1@centos7-dev',sorted,
                                eh_failure_detector_api,
                                eh_repl_data_manager_api,eh_storage_data_api,
                                eh_write_conflict_resolver_api,
                                eh_unique_id_generator_api,
                                eh_wait_query_handler_api,lager_event,10000,
                                "./","0000000000","ec_n1_repl.data",
                                standard_io,true,100,1,2000}}
2:11:31.652323 <0.222.0>  '--> eh_system_server:handle_cast/2
2:11:31.652897 <0.222.0> eh_system_server:handle_cast/2 --> {noreply,
    {eh_system_state,eh_ready,3,
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        ['ec_n1@centos7-dev','ec_n2@centos7-dev','ec_n3@centos7-dev'],
        'ec_n3@centos7-dev','ec_n2@centos7-dev',#{},#{},
        {set,2,16,16,8,80,48,
            {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
            {{[{eh_update_msg_key,3,person,10}],
              [],[],[],[],[],[],
              [{eh_update_msg_key,3,candidate,10}],
              [],[],[],[],[],[],[],[]}}},
        #{},#{},undefined,
        {eh_app_config,'ec_n1@centos7-dev',sorted,eh_failure_detector_api,
            eh_repl_data_manager_api,eh_storage_data_api,
            eh_write_conflict_resolver_api,eh_unique_id_generator_api,
            eh_wait_query_handler_api,lager_event,10000,"./","0000000000",
            "ec_n1_repl.data",standard_io,true,100,1,2000}}}
2:11:31.653340 <0.222.0>  '--> gen_server:try_dispatch/4
